<!DOCTYPE html><html lang="en" dir="ltr" data-theme="dark" data-has-toc data-has-sidebar class="astro-bguv2lll"> <head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>World systems | luxe docs</title><link rel="canonical"/><link rel="shortcut icon" href="/favicon.svg" type="image/svg+xml"/><meta name="generator" content="Astro v5.15.5"/><meta name="generator" content="Starlight v0.36.2"/><meta property="og:title" content="World systems"/><meta property="og:type" content="article"/><meta property="og:url"/><meta property="og:locale" content="en"/><meta property="og:description" content="A simple game using the World systems"/><meta property="og:site_name" content="luxe docs"/><meta name="twitter:card" content="summary_large_image"/><meta name="description" content="A simple game using the World systems"/><script>
	window.StarlightThemeProvider = (() => {
		const storedTheme =
			typeof localStorage !== 'undefined' && localStorage.getItem('starlight-theme');
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
		document.documentElement.dataset.theme = theme === 'light' ? 'light' : 'dark';
		return {
			updatePickers(theme = storedTheme || 'auto') {
				document.querySelectorAll('starlight-theme-select').forEach((picker) => {
					const select = picker.querySelector('select');
					if (select) select.value = theme;
					/** @type {HTMLTemplateElement | null} */
					const tmpl = document.querySelector(`#theme-icons`);
					const newIcon = tmpl && tmpl.content.querySelector('.' + theme);
					if (newIcon) {
						const oldIcon = picker.querySelector('svg.label-icon');
						if (oldIcon) {
							oldIcon.replaceChildren(...newIcon.cloneNode(true).childNodes);
						}
					}
				});
			},
		};
	})();
</script><template id="theme-icons"><svg aria-hidden="true" class="light astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Zm.64 5-.71.71a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l.71-.71A1 1 0 0 0 5.64 17ZM12 5a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v1a1 1 0 0 0 1 1Zm5.66 2.34a1 1 0 0 0 .7-.29l.71-.71a1 1 0 1 0-1.41-1.41l-.66.71a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.29Zm-12-.29a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.71-.71a1.004 1.004 0 1 0-1.43 1.41l.73.71ZM21 11h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm-2.64 6A1 1 0 0 0 17 18.36l.71.71a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.76-.66ZM12 6.5a5.5 5.5 0 1 0 5.5 5.5A5.51 5.51 0 0 0 12 6.5Zm0 9a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm0 3.5a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1a1 1 0 0 0-1-1Z"/></svg><svg aria-hidden="true" class="dark astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.049 8.049 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05Zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27a10.15 10.15 0 0 0 10.14 10.14 9.784 9.784 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32v-.04Z"/></svg><svg aria-hidden="true" class="auto astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg></template> <script>
  window.StarlightKbdProvider = (() => {
    return {
      updateKbdPickers(type) {
        for (const select of document.querySelectorAll('starlight-kbd-picker select')) {
          const isKnownType = Array.from(select.options).some((option) => option.value === type)
          if (!isKnownType) return
          select.value = type
        }
      },
    }
  })()
</script><link rel="stylesheet" href="/_astro/print.DNXP8c50.css" media="print"><link rel="stylesheet" href="/_astro/index.BrIdZDMa.css">
<style>@layer starlight.components{:root{--sl-badge-default-border: var(--sl-color-accent);--sl-badge-default-bg: var(--sl-color-accent-low);--sl-badge-default-text: #fff;--sl-badge-note-border: var(--sl-color-blue);--sl-badge-note-bg: var(--sl-color-blue-low);--sl-badge-note-text: #fff;--sl-badge-danger-border: var(--sl-color-red);--sl-badge-danger-bg: var(--sl-color-red-low);--sl-badge-danger-text: #fff;--sl-badge-success-border: var(--sl-color-green);--sl-badge-success-bg: var(--sl-color-green-low);--sl-badge-success-text: #fff;--sl-badge-caution-border: var(--sl-color-orange);--sl-badge-caution-bg: var(--sl-color-orange-low);--sl-badge-caution-text: #fff;--sl-badge-tip-border: var(--sl-color-purple);--sl-badge-tip-bg: var(--sl-color-purple-low);--sl-badge-tip-text: #fff}[data-theme=light]:root{--sl-badge-default-bg: var(--sl-color-accent-high);--sl-badge-note-bg: var(--sl-color-blue-high);--sl-badge-danger-bg: var(--sl-color-red-high);--sl-badge-success-bg: var(--sl-color-green-high);--sl-badge-caution-bg: var(--sl-color-orange-high);--sl-badge-tip-bg: var(--sl-color-purple-high)}.sl-badge:where(.astro-avdet4wd){display:inline-block;border:1px solid var(--sl-color-border-badge);border-radius:.25rem;font-family:var(--sl-font-system-mono);line-height:normal;color:var(--sl-color-text-badge);background-color:var(--sl-color-bg-badge);overflow-wrap:anywhere}.sidebar-content .sl-badge:where(.astro-avdet4wd){line-height:1;font-size:var(--sl-text-xs);padding:.125rem .375rem}.sidebar-content a[aria-current=page]>.sl-badge:where(.astro-avdet4wd){--sl-color-bg-badge: transparent;--sl-color-border-badge: currentColor;color:inherit}.default:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-default-bg);--sl-color-border-badge: var(--sl-badge-default-border);--sl-color-text-badge: var(--sl-badge-default-text)}.note:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-note-bg);--sl-color-border-badge: var(--sl-badge-note-border);--sl-color-text-badge: var(--sl-badge-note-text)}.danger:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-danger-bg);--sl-color-border-badge: var(--sl-badge-danger-border);--sl-color-text-badge: var(--sl-badge-danger-text)}.success:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-success-bg);--sl-color-border-badge: var(--sl-badge-success-border);--sl-color-text-badge: var(--sl-badge-success-text)}.tip:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-tip-bg);--sl-color-border-badge: var(--sl-badge-tip-border);--sl-color-text-badge: var(--sl-badge-tip-text)}.caution:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-caution-bg);--sl-color-border-badge: var(--sl-badge-caution-border);--sl-color-text-badge: var(--sl-badge-caution-text)}.small:where(.astro-avdet4wd){font-size:var(--sl-text-xs);padding:.125rem .25rem}.medium:where(.astro-avdet4wd){font-size:var(--sl-text-sm);padding:.175rem .35rem}.large:where(.astro-avdet4wd){font-size:var(--sl-text-base);padding:.225rem .45rem}.sl-markdown-content :is(h1,h2,h3,h4,h5,h6) .sl-badge:where(.astro-avdet4wd){vertical-align:middle}}
@layer starlight.components{.card:where(.astro-v5tidmuc){--sl-card-border: var(--sl-color-purple);--sl-card-bg: var(--sl-color-purple-low);border:1px solid var(--sl-color-gray-5);background-color:var(--sl-color-black);padding:clamp(1rem,calc(.125rem + 3vw),2.5rem);flex-direction:column;gap:clamp(.5rem,calc(.125rem + 1vw),1rem)}.card:where(.astro-v5tidmuc):nth-child(4n+1){--sl-card-border: var(--sl-color-orange);--sl-card-bg: var(--sl-color-orange-low)}.card:where(.astro-v5tidmuc):nth-child(4n+3){--sl-card-border: var(--sl-color-green);--sl-card-bg: var(--sl-color-green-low)}.card:where(.astro-v5tidmuc):nth-child(4n+4){--sl-card-border: var(--sl-color-red);--sl-card-bg: var(--sl-color-red-low)}.card:where(.astro-v5tidmuc):nth-child(4n+5){--sl-card-border: var(--sl-color-blue);--sl-card-bg: var(--sl-color-blue-low)}.title:where(.astro-v5tidmuc){font-weight:600;font-size:var(--sl-text-h4);color:var(--sl-color-white);line-height:var(--sl-line-height-headings);gap:1rem;align-items:center}.card:where(.astro-v5tidmuc) .icon:where(.astro-v5tidmuc){border:1px solid var(--sl-card-border);background-color:var(--sl-card-bg);padding:.2em;border-radius:.25rem;flex-shrink:0}.card:where(.astro-v5tidmuc) .body:where(.astro-v5tidmuc){margin:0;font-size:clamp(var(--sl-text-sm),calc(.5rem + 1vw),var(--sl-text-body))}}
@layer starlight.components{svg:where(.astro-c6vsoqas){color:var(--sl-icon-color);font-size:var(--sl-icon-size, 1em);width:1em;height:1em}}
.sl-markdown-content starlight-kbd-picker:where(.astro-k5ijk5yq){display:inline-block}
@layer starlight.components{.sl-link-card:where(.astro-mf7fz2mj){display:grid;grid-template-columns:1fr auto;gap:.5rem;border:1px solid var(--sl-color-gray-5);border-radius:.5rem;padding:1rem;box-shadow:var(--sl-shadow-sm);position:relative}a:where(.astro-mf7fz2mj){text-decoration:none;line-height:var(--sl-line-height-headings)}a:where(.astro-mf7fz2mj):before{content:"";position:absolute;inset:0}.stack:where(.astro-mf7fz2mj){flex-direction:column;gap:.5rem}.title:where(.astro-mf7fz2mj){color:var(--sl-color-white);font-weight:600;font-size:var(--sl-text-lg)}.description:where(.astro-mf7fz2mj){color:var(--sl-color-gray-3);line-height:1.5}.icon:where(.astro-mf7fz2mj){color:var(--sl-color-gray-3)}.sl-link-card:where(.astro-mf7fz2mj):hover{background:var(--sl-color-gray-7, var(--sl-color-gray-6));border-color:var(--sl-color-gray-2)}.sl-link-card:where(.astro-mf7fz2mj):hover .icon:where(.astro-mf7fz2mj){color:var(--sl-color-white)}}
label:where(.astro-e2vmghfl){--sl-label-icon-size: 1rem;--sl-caret-size: 1.25rem;--sl-inline-padding: .5rem;align-items:center;color:var(--sl-color-gray-1);display:inline-flex;gap:.25rem;position:relative}label:where(.astro-e2vmghfl):hover:not(:where(.sl-markdown-content *)){color:var(--sl-color-gray-2)}.sl-markdown-content label:where(.astro-e2vmghfl):hover{color:var(--sl-color-text-accent)}.icon:where(.astro-e2vmghfl){color:var(--sl-icon-color);font-size:var(--sl-icon-size, 1em);height:1em;pointer-events:none;position:absolute;top:50%;transform:translateY(-50%);width:1em}.label-icon:where(.astro-e2vmghfl){font-size:var(--sl-label-icon-size);inset-inline-start:0}.sl-markdown-content .label-icon:where(.astro-e2vmghfl){left:var(--sl-inline-padding)}.caret:where(.astro-e2vmghfl){font-size:var(--sl-caret-size);inset-inline-end:0}.sl-markdown-content .caret:where(.astro-e2vmghfl){right:var(--sl-inline-padding)}select:where(.astro-e2vmghfl){appearance:none;background-color:transparent;border:0;color:inherit;cursor:pointer;padding-block:.25rem;padding-inline:calc(var(--sl-label-icon-size) + var(--sl-inline-padding) + .25rem) calc(var(--sl-caret-size) + var(--sl-inline-padding) + .25rem);text-overflow:ellipsis}.sl-markdown-content select:where(.astro-e2vmghfl){border:1px solid var(--sl-color-white);border-radius:999rem;outline-offset:.1875rem}.sl-markdown-content label:where(.astro-e2vmghfl):hover select:where(.astro-e2vmghfl){border-color:var(--sl-color-text-accent)}option:where(.astro-e2vmghfl){background-color:var(--sl-color-bg-nav);color:var(--sl-color-gray-1)}@media (min-width: 50rem){select:where(.astro-e2vmghfl){font-size:var(--sl-text-sm)}}select:where(.astro-e2vmghfl):not(:where(.sl-markdown-content *)){margin-inline:calc(var(--sl-inline-padding) * -1);padding-block:.625rem}
@layer starlight.components{.sl-steps{--bullet-size: calc(var(--sl-line-height) * 1rem);--bullet-margin: .375rem;list-style:none;counter-reset:steps-counter var(--sl-steps-start, 0);padding-inline-start:0}.sl-steps>li{counter-increment:steps-counter;position:relative;padding-inline-start:calc(var(--bullet-size) + 1rem);padding-bottom:1px;min-height:calc(var(--bullet-size) + var(--bullet-margin))}.sl-steps>li+li{margin-top:0}.sl-steps>li:before{content:counter(steps-counter);position:absolute;top:0;inset-inline-start:0;width:var(--bullet-size);height:var(--bullet-size);line-height:var(--bullet-size);font-size:var(--sl-text-xs);font-weight:600;text-align:center;color:var(--sl-color-white);background-color:var(--sl-color-gray-6);border-radius:99rem;box-shadow:inset 0 0 0 1px var(--sl-color-gray-5)}.sl-steps>li:after{--guide-width: 1px;content:"";position:absolute;top:calc(var(--bullet-size) + var(--bullet-margin));bottom:var(--bullet-margin);inset-inline-start:calc((var(--bullet-size) - var(--guide-width)) / 2);width:var(--guide-width);background-color:var(--sl-color-hairline-light)}}@layer starlight.content{.sl-steps>li>:first-child{--lh: calc(1em * var(--sl-line-height));--shift-y: calc(.5 * (var(--bullet-size) - var(--lh)));transform:translateY(var(--shift-y));margin-bottom:var(--shift-y)}.sl-steps>li>:first-child:where(h1,h2,h3,h4,h5,h6){--lh: calc(1em * var(--sl-line-height-headings))}@supports (--prop: 1lh){.sl-steps>li>:first-child{--lh: 1lh}}}
@layer starlight.components{starlight-file-tree:where(.astro-p67cqifm){--x-space: 1.5rem;--y-space: .125rem;--y-pad: 0;display:block;border:1px solid var(--sl-color-gray-5);padding:1rem;background-color:var(--sl-color-gray-6);font-size:var(--sl-text-xs);font-family:var(--__sl-font-mono);overflow-x:auto}starlight-file-tree:where(.astro-p67cqifm) .directory>details{border:0;padding:0;padding-inline-start:var(--x-space);background:transparent}starlight-file-tree:where(.astro-p67cqifm) .directory>details>summary{margin-inline-start:calc(-1 * var(--x-space));border:0;padding:var(--y-pad) .625rem;font-weight:400;color:var(--sl-color-white);max-width:100%}starlight-file-tree:where(.astro-p67cqifm) .directory>details>summary::marker,starlight-file-tree:where(.astro-p67cqifm) .directory>details>summary::-webkit-details-marker{color:var(--sl-color-gray-3)}starlight-file-tree:where(.astro-p67cqifm) .directory>details>summary:hover,starlight-file-tree:where(.astro-p67cqifm) .directory>details>summary:hover .tree-icon{cursor:pointer;color:var(--sl-color-text-accent);fill:currentColor}starlight-file-tree:where(.astro-p67cqifm) .directory>details>summary:hover~ul{border-color:var(--sl-color-gray-4)}starlight-file-tree:where(.astro-p67cqifm) .directory>details>summary:hover .highlight .tree-icon{color:var(--sl-color-text-invert);fill:currentColor}starlight-file-tree:where(.astro-p67cqifm) ul{margin-inline-start:.5rem;border-inline-start:1px solid var(--sl-color-gray-5);padding:0;padding-inline-start:.125rem;list-style:none}starlight-file-tree:where(.astro-p67cqifm)>ul{margin:0;border:0;padding:0}starlight-file-tree:where(.astro-p67cqifm) li{margin:var(--y-space) 0;padding:var(--y-pad) 0}starlight-file-tree:where(.astro-p67cqifm) .file{margin-inline-start:calc(var(--x-space) - .125rem);color:var(--sl-color-white)}starlight-file-tree:where(.astro-p67cqifm) .tree-entry{display:inline-flex;align-items:flex-start;flex-wrap:wrap;max-width:calc(100% - 1rem)}@media (min-width: 30em){starlight-file-tree:where(.astro-p67cqifm) .tree-entry{flex-wrap:nowrap}}starlight-file-tree:where(.astro-p67cqifm) .tree-entry>:first-child{flex-shrink:0}starlight-file-tree:where(.astro-p67cqifm) .empty{color:var(--sl-color-gray-3);padding-inline-start:.375rem}starlight-file-tree:where(.astro-p67cqifm) .comment{color:var(--sl-color-gray-3);padding-inline-start:1.625rem;max-width:24rem;min-width:12rem}starlight-file-tree:where(.astro-p67cqifm) .highlight{display:inline-block;border-radius:.25rem;padding-inline-end:.5rem;color:var(--sl-color-text-invert);background-color:var(--sl-color-text-accent)}starlight-file-tree:where(.astro-p67cqifm) svg{display:inline;fill:var(--sl-color-gray-3);vertical-align:middle;margin-inline:.25rem .375rem;width:.875rem;height:.875rem}starlight-file-tree:where(.astro-p67cqifm) .highlight svg.tree-icon{fill:currentColor}}
@layer starlight.components{.sl-link-button:where(.astro-xwgiixxa){align-items:center;border:1px solid transparent;border-radius:999rem;display:inline-flex;font-size:var(--sl-text-sm);gap:.5em;line-height:1.1875;outline-offset:.25rem;padding:.4375rem 1.125rem;text-decoration:none}.sl-link-button:where(.astro-xwgiixxa).primary{background:var(--sl-color-text-accent);border-color:var(--sl-color-text-accent);color:var(--sl-color-black)}.sl-link-button:where(.astro-xwgiixxa).primary:hover{color:var(--sl-color-black)}.sl-link-button:where(.astro-xwgiixxa).secondary{border-color:inherit;color:var(--sl-color-white)}.sl-link-button:where(.astro-xwgiixxa).minimal{color:var(--sl-color-white);padding-inline:0}.sl-link-button:where(.astro-xwgiixxa) svg{flex-shrink:0}@media (min-width: 50rem){.sl-link-button:where(.astro-xwgiixxa){font-size:var(--sl-text-base);padding:.9375rem 1.25rem}}.sl-markdown-content .sl-link-button:where(.astro-xwgiixxa){margin-inline-end:1rem}.sl-markdown-content .sl-link-button:where(.astro-xwgiixxa):not(:where(p *)){margin-block:1rem}}
</style><script type="module" src="/_astro/page.B1D-nYk3.js"></script><style>span:where(.astro-3t7w3qeg)[data-sl-kbd-type]:not([data-sl-kbd-active]){display:none}.sl-kbd-chord:where(.astro-3t7w3qeg):has(+.sl-kbd-chord){margin-inline-end:.25rem}.sl-kbd-chord:where(.astro-3t7w3qeg) kbd:where(.astro-3t7w3qeg){background-color:var(--sl-color-gray-6);border:1px solid var(--sl-color-gray-4);border-radius:4px;font-family:var(--sl-font-system-mono);font-size:var(--sl-text-xs);margin-inline:.125rem;padding:.125rem .3125rem}.starlight-aside .sl-kbd-chord:where(.astro-3t7w3qeg) kbd:where(.astro-3t7w3qeg){border-color:var(--sl-color-asides-border)}.starlight-aside--note .sl-kbd-chord:where(.astro-3t7w3qeg) kbd:where(.astro-3t7w3qeg){background-color:var(--sl-color-blue-low)}.starlight-aside--tip .sl-kbd-chord:where(.astro-3t7w3qeg) kbd:where(.astro-3t7w3qeg){background-color:var(--sl-color-purple-low)}.starlight-aside--caution .sl-kbd-chord:where(.astro-3t7w3qeg) kbd:where(.astro-3t7w3qeg){background-color:var(--sl-color-orange-low)}.starlight-aside--danger .sl-kbd-chord:where(.astro-3t7w3qeg) kbd:where(.astro-3t7w3qeg){background-color:var(--sl-color-red-low)}@supports (background-color: color-mix(in srgb,var(--sl-color-asides-text-accent) 10%,transparent)){.sl-markdown-content .starlight-aside .sl-kbd-chord:where(.astro-3t7w3qeg) kbd:where(.astro-3t7w3qeg){background-color:color-mix(in srgb,var(--sl-color-asides-text-accent) 10%,transparent)}}
</style></head> <body class="astro-bguv2lll"> <a href="#_top" class="astro-7q3lir66">Skip to content</a>  <div class="page sl-flex astro-vrdttmbt"> <header class="header astro-vrdttmbt"><div class="header astro-kmkmnagf"> <div class="title-wrapper sl-flex astro-kmkmnagf"> <a href="/" class="site-title sl-flex astro-m46x6ez3">  <img class="astro-m46x6ez3" alt src="/_astro/luxe-dark.NVYNGKCT.svg" width="239" height="380">  <span class="astro-m46x6ez3" translate="no"> luxe docs </span> </a>  </div> <div class="sl-flex print:hidden astro-kmkmnagf"> <site-search class="astro-kmkmnagf astro-v37mnknz" data-translations="{&#34;placeholder&#34;:&#34;Search&#34;}"> <button data-open-modal disabled aria-label="Search" aria-keyshortcuts="Control+K" class="astro-v37mnknz"> <svg aria-hidden="true" class="astro-v37mnknz astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.71 20.29 18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14Z"/></svg> <span class="sl-hidden md:sl-block astro-v37mnknz" aria-hidden="true">Search</span> <kbd class="sl-hidden md:sl-flex astro-v37mnknz" style="display: none;"> <kbd class="astro-v37mnknz">Ctrl</kbd><kbd class="astro-v37mnknz">K</kbd> </kbd> </button> <dialog style="padding:0" aria-label="Search" class="astro-v37mnknz"> <div class="dialog-frame sl-flex astro-v37mnknz">  <button data-close-modal class="sl-flex md:sl-hidden astro-v37mnknz"> Cancel </button> <div class="search-container astro-v37mnknz"> <div id="starlight__search" class="astro-v37mnknz"></div> </div> </div> </dialog> </site-search>  <script>
	(() => {
		const openBtn = document.querySelector('button[data-open-modal]');
		const shortcut = openBtn?.querySelector('kbd');
		if (!openBtn || !(shortcut instanceof HTMLElement)) return;
		const platformKey = shortcut.querySelector('kbd');
		if (platformKey && /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)) {
			platformKey.textContent = '⌘';
			openBtn.setAttribute('aria-keyshortcuts', 'Meta+K');
		}
		shortcut.style.display = '';
	})();
</script> <script type="module" src="/_astro/Search.astro_astro_type_script_index_0_lang.cjYDvRdi.js"></script>   </div> <div class="sl-hidden md:sl-flex print:hidden right-group astro-kmkmnagf"> <div class="sl-flex social-icons astro-kmkmnagf"> <a href="https://github.com/withastro/starlight" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg></a> </div> <starlight-kbd-picker class="astro-k5ijk5yq"> <label class="not-content astro-e2vmghfl"> <span class="sr-only astro-e2vmghfl">Select keyboard type</span> <svg xmlns="http://www.w3.org/2000/svg" class="icon label-icon astro-e2vmghfl" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"> <path d="M6.21 13.29a.93.93 0 0 0-.33-.21 1 1 0 0 0-.76 0 .9.9 0 0 0-.54.54 1 1 0 1 0 1.84 0 1 1 0 0 0-.21-.33ZM13.5 11h1a1 1 0 0 0 0-2h-1a1 1 0 0 0 0 2Zm-4 0h1a1 1 0 0 0 0-2h-1a1 1 0 0 0 0 2Zm-3-2h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2ZM20 5H4a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h16a3 3 0 0 0 3-3V8a3 3 0 0 0-3-3Zm1 11a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1Zm-6-3H9a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2Zm3.5-4h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm.71 4.29a1 1 0 0 0-.33-.21 1 1 0 0 0-.76 0 .93.93 0 0 0-.33.21 1 1 0 0 0-.21.33 1 1 0 1 0 1.92.38.84.84 0 0 0-.08-.38 1 1 0 0 0-.21-.33Z" class="astro-e2vmghfl"></path> </svg> <select autocomplete="off" value="default" class="astro-e2vmghfl"> <option selected value="default" class="astro-e2vmghfl">Default Keys</option><option value="windows" class="astro-e2vmghfl">Windows</option><option value="mac" class="astro-e2vmghfl">macOS</option> </select> <svg aria-hidden="true" class="icon caret astro-e2vmghfl astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-kbd-picker> <script>
  StarlightKbdProvider.updateKbdPickers(typeof localStorage !== 'undefined' && localStorage.getItem('sl-kbd-type'))
</script> <script type="module">customElements.define("starlight-kbd-picker",class extends HTMLElement{constructor(){super(),this.querySelector("select")?.addEventListener("change",e=>{if(e.currentTarget instanceof HTMLSelectElement){StarlightKbdProvider.updateKbdPickers(e.currentTarget.value);for(const t of document.querySelectorAll("[data-sl-kbd-type]"))t.getAttribute("data-sl-kbd-type")===e.currentTarget.value?t.setAttribute("data-sl-kbd-active",""):t.removeAttribute("data-sl-kbd-active");typeof localStorage<"u"&&localStorage.setItem("sl-kbd-type",e.currentTarget.value)}})}});</script>  <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> <select autocomplete="off" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script> <script type="module">const r="starlight-theme",o=e=>e==="auto"||e==="dark"||e==="light"?e:"auto",c=()=>o(typeof localStorage<"u"&&localStorage.getItem(r));function n(e){typeof localStorage<"u"&&localStorage.setItem(r,e==="light"||e==="dark"?e:"")}const l=()=>matchMedia("(prefers-color-scheme: light)").matches?"light":"dark";function t(e){StarlightThemeProvider.updatePickers(e),document.documentElement.dataset.theme=e==="auto"?l():e,n(e)}matchMedia("(prefers-color-scheme: light)").addEventListener("change",()=>{c()==="auto"&&t("auto")});class s extends HTMLElement{constructor(){super(),t(c()),this.querySelector("select")?.addEventListener("change",a=>{a.currentTarget instanceof HTMLSelectElement&&t(o(a.currentTarget.value))})}}customElements.define("starlight-theme-select",s);</script> <script type="module">class s extends HTMLElement{constructor(){super();const e=this.querySelector("select");e&&(e.addEventListener("change",t=>{t.currentTarget instanceof HTMLSelectElement&&(window.location.pathname=t.currentTarget.value)}),window.addEventListener("pageshow",t=>{if(!t.persisted)return;const n=e.querySelector("option[selected]")?.index;n!==e.selectedIndex&&(e.selectedIndex=n??0)}))}}customElements.define("starlight-lang-select",s);</script> </div> </div> </header> <nav class="sidebar print:hidden astro-vrdttmbt" aria-label="Main"> <starlight-menu-button class="print:hidden astro-jif73yzw"> <button aria-expanded="false" aria-label="Menu" aria-controls="starlight__sidebar" class="sl-flex md:sl-hidden astro-jif73yzw"> <svg aria-hidden="true" class="open-menu astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"/></svg> <svg aria-hidden="true" class="close-menu astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="m13.41 12 6.3-6.29a1.004 1.004 0 1 0-1.42-1.42L12 10.59l-6.29-6.3a1.004 1.004 0 0 0-1.42 1.42l6.3 6.29-6.3 6.29a1 1 0 0 0 0 1.42.998.998 0 0 0 1.42 0l6.29-6.3 6.29 6.3a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.42L13.41 12Z"/></svg> </button> </starlight-menu-button> <script type="module">class s extends HTMLElement{constructor(){super(),this.btn=this.querySelector("button"),this.btn.addEventListener("click",()=>this.toggleExpanded());const t=this.closest("nav");t&&t.addEventListener("keyup",e=>this.closeOnEscape(e))}setExpanded(t){this.setAttribute("aria-expanded",String(t)),document.body.toggleAttribute("data-mobile-menu-expanded",t)}toggleExpanded(){this.setExpanded(this.getAttribute("aria-expanded")!=="true")}closeOnEscape(t){t.code==="Escape"&&(this.setExpanded(!1),this.btn.focus())}}customElements.define("starlight-menu-button",s);</script>   <div id="starlight__sidebar" class="sidebar-pane astro-vrdttmbt"> <div class="sidebar-content sl-flex astro-vrdttmbt"> <sl-sidebar-state-persist data-hash="0n0c2ca" class="astro-kku4brbg"> <script aria-hidden="true">
		(() => {
			try {
				if (!matchMedia('(min-width: 50em)').matches) return;
				/** @type {HTMLElement | null} */
				const target = document.querySelector('sl-sidebar-state-persist');
				const state = JSON.parse(sessionStorage.getItem('sl-sidebar-state') || '0');
				if (!target || !state || target.dataset.hash !== state.hash) return;
				window._starlightScrollRestore = state.scroll;
				customElements.define(
					'sl-sidebar-restore',
					class SidebarRestore extends HTMLElement {
						connectedCallback() {
							try {
								const idx = parseInt(this.dataset.index || '');
								const details = this.closest('details');
								if (details && typeof state.open[idx] === 'boolean') details.open = state.open[idx];
							} catch {}
						}
					}
				);
			} catch {}
		})();
	</script>  <ul class="top-level astro-3ii7xxms"> <li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Welcome</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="0"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/welcome/about/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">About</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/welcome/get/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Installing Luxe</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Getting Started</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="1"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/getting-started/luxe-101/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Luxe 101</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/getting-started/create-a-project/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Create and run a project</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/getting-started/draw-and-input/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Drawing and input</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/getting-started/world/" aria-current="page" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">World systems</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/getting-started/luxe-editor/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">The luxe editor</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/getting-started/build/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Making a build</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/getting-started/audio/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Adding sounds</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Tutorials</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="2"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/tutorials/overview/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Overview</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/tutorials/camera/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Camera</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/tutorials/modules/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Modules</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/tutorials/multiple-files/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Multiple wren files</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/tutorials/random/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Random numbers</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/tutorials/tilemaps/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Tile maps</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/tutorials/ui/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">UI</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Game Tutorials</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="3"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/tutorials-games/overview/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Overview</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Manual</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="4"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/manual/overview/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Overview</span>  </a> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">render</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="5"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/manual/render/draw/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Draw tool</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">world</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="6"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/manual/world/custom-modifiers/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Custom Modifiers</span>  </a> </li> </ul>  </details> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <a href="https://api.luxeengine.com/" aria-current="false" class="large astro-3ii7xxms"> <span class="astro-3ii7xxms">API reference</span>  </a> </li> </ul>   <script aria-hidden="true">
		(() => {
			const scroller = document.getElementById('starlight__sidebar');
			if (!window._starlightScrollRestore || !scroller) return;
			scroller.scrollTop = window._starlightScrollRestore;
			delete window._starlightScrollRestore;
		})();
	</script> </sl-sidebar-state-persist>  <div class="md:sl-hidden"> <div class="mobile-preferences sl-flex astro-wu23bvmt"> <div class="social-icons astro-wu23bvmt"> <a href="https://github.com/withastro/starlight" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg></a> </div> <starlight-kbd-picker class="astro-k5ijk5yq"> <label class="not-content astro-e2vmghfl"> <span class="sr-only astro-e2vmghfl">Select keyboard type</span> <svg xmlns="http://www.w3.org/2000/svg" class="icon label-icon astro-e2vmghfl" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"> <path d="M6.21 13.29a.93.93 0 0 0-.33-.21 1 1 0 0 0-.76 0 .9.9 0 0 0-.54.54 1 1 0 1 0 1.84 0 1 1 0 0 0-.21-.33ZM13.5 11h1a1 1 0 0 0 0-2h-1a1 1 0 0 0 0 2Zm-4 0h1a1 1 0 0 0 0-2h-1a1 1 0 0 0 0 2Zm-3-2h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2ZM20 5H4a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h16a3 3 0 0 0 3-3V8a3 3 0 0 0-3-3Zm1 11a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1Zm-6-3H9a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2Zm3.5-4h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm.71 4.29a1 1 0 0 0-.33-.21 1 1 0 0 0-.76 0 .93.93 0 0 0-.33.21 1 1 0 0 0-.21.33 1 1 0 1 0 1.92.38.84.84 0 0 0-.08-.38 1 1 0 0 0-.21-.33Z" class="astro-e2vmghfl"></path> </svg> <select autocomplete="off" value="default" class="astro-e2vmghfl"> <option selected value="default" class="astro-e2vmghfl">Default Keys</option><option value="windows" class="astro-e2vmghfl">Windows</option><option value="mac" class="astro-e2vmghfl">macOS</option> </select> <svg aria-hidden="true" class="icon caret astro-e2vmghfl astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-kbd-picker> <script>
  StarlightKbdProvider.updateKbdPickers(typeof localStorage !== 'undefined' && localStorage.getItem('sl-kbd-type'))
</script>   <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> <select autocomplete="off" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div>  </div> </div> </div> </nav> <div class="main-frame astro-vrdttmbt">  <script type="module">const a=document.getElementById("starlight__sidebar"),n=a?.querySelector("sl-sidebar-state-persist"),o="sl-sidebar-state",i=()=>{let t=[];const e=n?.dataset.hash||"";try{const s=sessionStorage.getItem(o),r=JSON.parse(s||"{}");Array.isArray(r.open)&&r.hash===e&&(t=r.open)}catch{}return{hash:e,open:t,scroll:a?.scrollTop||0}},c=t=>{try{sessionStorage.setItem(o,JSON.stringify(t))}catch{}},d=()=>c(i()),l=(t,e)=>{const s=i();s.open[e]=t,c(s)};n?.addEventListener("click",t=>{if(!(t.target instanceof Element))return;const e=t.target.closest("summary")?.closest("details");if(!e)return;const s=e.querySelector("sl-sidebar-restore"),r=parseInt(s?.dataset.index||"");isNaN(r)||l(!e.open,r)});addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&d()});addEventListener("pageHide",d);</script> <div class="lg:sl-flex astro-67yu43on"> <aside class="right-sidebar-container print:hidden astro-67yu43on"> <div class="right-sidebar astro-67yu43on"> <div class="lg:sl-hidden astro-pb3aqygn"><mobile-starlight-toc data-min-h="2" data-max-h="3" class="astro-doynk5tl"><nav aria-labelledby="starlight__on-this-page--mobile" class="astro-doynk5tl"><details id="starlight__mobile-toc" class="astro-doynk5tl"><summary id="starlight__on-this-page--mobile" class="sl-flex astro-doynk5tl"><span class="toggle sl-flex astro-doynk5tl">On this page<svg aria-hidden="true" class="caret astro-doynk5tl astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg></span><span class="display-current astro-doynk5tl"></span></summary><div class="dropdown astro-doynk5tl"><ul class="isMobile astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#play-what-were-making" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Play what we’re making</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#creating-the-project" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Creating the project</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#installing-a-module" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Installing a module</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#using-the-module-in-a-project" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Using the module in a project</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#the-transform-api" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">The Transform API</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#arcade-physics" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Arcade physics</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#arcade-import" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Arcade import</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#attach-an-arcade-modifier" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Attach an arcade modifier</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#loading-a-scene" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Loading a scene</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#named-input-events" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Named input events</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#implementing-jump" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Implementing jump</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#player-position-and-speed" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Player position and speed</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#create-a-prototype-instance" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Create a Prototype instance</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#creating-a-custom-modifier" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Creating a custom modifier</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#system-folder-convention" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">system/ folder convention</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#generating-code-for-you" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Generating code for you</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#update-the-generated-meta-data" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Update the generated meta data</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#attach-the-modifier" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Attach the modifier</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#moving-the-pillars" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Moving the pillars</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#more-pillars" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">More pillars</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#handling-collision" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Handling collision</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#polishing" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Polishing</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#reset" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Reset</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#debug-off" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Debug off</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#try-this" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Try this</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#final-code" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Final code</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#gamewren" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">game.wren</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#systempillarmodifierwren" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">system/pillar.modifier.wren</span> </a>  </li> </ul>  </li> </ul> </div></details></nav></mobile-starlight-toc><script type="module" src="/_astro/MobileTableOfContents.astro_astro_type_script_index_0_lang.C181hMzK.js"></script></div><div class="right-sidebar-panel sl-hidden lg:sl-block astro-pb3aqygn"><div class="sl-container astro-pb3aqygn"><starlight-toc data-min-h="2" data-max-h="3"><nav aria-labelledby="starlight__on-this-page"><h2 id="starlight__on-this-page">On this page</h2><ul class="astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#play-what-were-making" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Play what we’re making</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#creating-the-project" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Creating the project</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#installing-a-module" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Installing a module</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#using-the-module-in-a-project" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Using the module in a project</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#the-transform-api" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">The Transform API</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#arcade-physics" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Arcade physics</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#arcade-import" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Arcade import</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#attach-an-arcade-modifier" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Attach an arcade modifier</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#loading-a-scene" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Loading a scene</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#named-input-events" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Named input events</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#implementing-jump" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Implementing jump</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#player-position-and-speed" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Player position and speed</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#create-a-prototype-instance" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Create a Prototype instance</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#creating-a-custom-modifier" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Creating a custom modifier</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#system-folder-convention" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">system/ folder convention</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#generating-code-for-you" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Generating code for you</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#update-the-generated-meta-data" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Update the generated meta data</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#attach-the-modifier" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Attach the modifier</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#moving-the-pillars" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Moving the pillars</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#more-pillars" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">More pillars</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#handling-collision" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Handling collision</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#polishing" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Polishing</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#reset" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Reset</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#debug-off" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Debug off</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#try-this" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Try this</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#final-code" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Final code</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#gamewren" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">game.wren</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#systempillarmodifierwren" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">system/pillar.modifier.wren</span> </a>  </li> </ul>  </li> </ul> </nav></starlight-toc><script type="module" src="/_astro/TableOfContents.astro_astro_type_script_index_0_lang.CKWWgpjV.js"></script></div></div> </div> </aside> <div class="main-pane astro-67yu43on">  <main data-pagefind-body class="astro-bguv2lll" lang="en" dir="ltr">    <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <h1 id="_top" class="astro-j6tvhyss">World systems</h1>  </div> </div>  <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <div class="sl-markdown-content"> <aside aria-label="Outcome / Goals" class="starlight-aside starlight-aside--tip"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M17 22H5a3 3 0 0 1-3-3V9a3 3 0 0 1 3-3h1a4 4 0 0 1 7.3-2.18c.448.64.692 1.4.7 2.18h3a1 1 0 0 1 1 1v3a4 4 0 0 1 2.18 7.3A3.86 3.86 0 0 1 18 18v3a1 1 0 0 1-1 1ZM5 8a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11v-3.18a1 1 0 0 1 1.33-.95 1.77 1.77 0 0 0 1.74-.23 2 2 0 0 0 .93-1.37 2 2 0 0 0-.48-1.59 1.89 1.89 0 0 0-2.17-.55 1 1 0 0 1-1.33-.95V8h-3.2a1 1 0 0 1-1-1.33 1.77 1.77 0 0 0-.23-1.74 1.939 1.939 0 0 0-3-.43A2 2 0 0 0 8 6c.002.23.046.456.13.67A1 1 0 0 1 7.18 8H5Z"></path></svg>Outcome / Goals</p><div class="starlight-aside__content"><ul>
<li>In this tutorial we’ll <strong>use the World api</strong> to put something on screen</li>
<li>We’ll also use a module, called <strong>Arcade</strong> for handling physics + collision</li>
<li>We’ll load scenes and create prototype instances to populate a world,
and create a custom <strong>Modifier</strong></li>
</ul></div></aside>
<p>We’ll make a game where you play as a bee, and have to bounce on flowers!</p>
<div class="sl-heading-wrapper level-h2"><h2 id="play-what-were-making">Play what we’re making</h2><a class="sl-anchor-link" href="#play-what-were-making"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Play what we’re making”</span></a></div>
<ul>
<li>Click on the game area</li>
<li>Click to jump, or press <script>
      {customElements.define(
        'starlight-kbd-restore',
        class StarlightKbdRestore extends HTMLElement {
          connectedCallback() {
            const kbd = this.closest('starlight-kbd')
            if (!(kbd instanceof HTMLElement) || typeof localStorage === 'undefined') return
            const type = typeof localStorage !== 'undefined' && localStorage.getItem('sl-kbd-type')
            if (!type) return
            for (const kbd of document.querySelectorAll('[data-sl-kbd-type]')) {
              if (kbd.getAttribute('data-sl-kbd-type') === type) {
                kbd.setAttribute('data-sl-kbd-active', '')
              } else {
                kbd.removeAttribute('data-sl-kbd-active')
              }
            }
          }
        },
      )}
    </script><starlight-kbd class="astro-3t7w3qeg"> <span data-sl-kbd-type="default" data-sl-kbd-active class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">Up Arrow</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">Up</kbd></kbd>  </span><span data-sl-kbd-type="windows" class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">Up Arrow</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">Up</kbd></kbd>  </span><span data-sl-kbd-type="mac" class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">Up Arrow</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">Up</kbd></kbd>  </span> <starlight-kbd-restore class="astro-3t7w3qeg"></starlight-kbd-restore> </starlight-kbd> /<starlight-kbd class="astro-3t7w3qeg"> <span data-sl-kbd-type="default" data-sl-kbd-active class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">W</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">W</kbd></kbd>  </span><span data-sl-kbd-type="windows" class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">W</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">W</kbd></kbd>  </span><span data-sl-kbd-type="mac" class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">W</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">W</kbd></kbd>  </span> <starlight-kbd-restore class="astro-3t7w3qeg"></starlight-kbd-restore> </starlight-kbd> /<starlight-kbd class="astro-3t7w3qeg"> <span data-sl-kbd-type="default" data-sl-kbd-active class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">X</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">X</kbd></kbd>  </span><span data-sl-kbd-type="windows" class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">X</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">X</kbd></kbd>  </span><span data-sl-kbd-type="mac" class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">X</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">X</kbd></kbd>  </span> <starlight-kbd-restore class="astro-3t7w3qeg"></starlight-kbd-restore> </starlight-kbd> /<starlight-kbd class="astro-3t7w3qeg"> <span data-sl-kbd-type="default" data-sl-kbd-active class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">Space</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">Space</kbd></kbd>  </span><span data-sl-kbd-type="windows" class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">Space</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">Space</kbd></kbd>  </span><span data-sl-kbd-type="mac" class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">Space</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">Space</kbd></kbd>  </span> <starlight-kbd-restore class="astro-3t7w3qeg"></starlight-kbd-restore> </starlight-kbd>  key.</li>
<li>Press <starlight-kbd class="astro-3t7w3qeg"> <span data-sl-kbd-type="default" data-sl-kbd-active class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">R</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">R</kbd></kbd>  </span><span data-sl-kbd-type="windows" class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">R</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">R</kbd></kbd>  </span><span data-sl-kbd-type="mac" class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">R</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">R</kbd></kbd>  </span> <starlight-kbd-restore class="astro-3t7w3qeg"></starlight-kbd-restore> </starlight-kbd>  key to reset.</li>
</ul>
<iframe src="/samples/getting-started/world/index.html" width="100%" height="405px" style="overflow:hidden; display:block; position: relative; border:none; height: 405px !important;"></iframe>
<div class="sl-heading-wrapper level-h2"><h2 id="creating-the-project">Creating the project</h2><a class="sl-anchor-link" href="#creating-the-project"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Creating the project”</span></a></div>
<p>For this tutorial, create a new project using the launcher,
and when choosing an outline, <strong>select the tutorial project outline</strong>.
This project is pre-configured so we can dive right in.</p>
<aside aria-label="Start from the correct project outline!" class="starlight-aside starlight-aside--caution"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M12 16C11.8022 16 11.6089 16.0587 11.4444 16.1686C11.28 16.2784 11.1518 16.4346 11.0761 16.6173C11.0004 16.8001 10.9806 17.0011 11.0192 17.1951C11.0578 17.3891 11.153 17.5673 11.2929 17.7071C11.4327 17.847 11.6109 17.9422 11.8049 17.9808C11.9989 18.0194 12.2 17.9996 12.3827 17.9239C12.5654 17.8482 12.7216 17.72 12.8315 17.5556C12.9413 17.3911 13 17.1978 13 17C13 16.7348 12.8946 16.4805 12.7071 16.2929C12.5196 16.1054 12.2652 16 12 16ZM22.67 17.47L14.62 3.47003C14.3598 3.00354 13.9798 2.61498 13.5192 2.3445C13.0586 2.07401 12.5341 1.9314 12 1.9314C11.4659 1.9314 10.9414 2.07401 10.4808 2.3445C10.0202 2.61498 9.64019 3.00354 9.38 3.47003L1.38 17.47C1.11079 17.924 0.966141 18.441 0.960643 18.9688C0.955144 19.4966 1.089 20.0166 1.34868 20.4761C1.60837 20.9356 1.9847 21.3185 2.43968 21.5861C2.89466 21.8536 3.41218 21.9964 3.94 22H20.06C20.5921 22.0053 21.1159 21.8689 21.5779 21.6049C22.0399 21.341 22.4234 20.9589 22.689 20.4978C22.9546 20.0368 23.0928 19.5134 23.0895 18.9814C23.0862 18.4493 22.9414 17.9277 22.67 17.47ZM20.94 19.47C20.8523 19.626 20.7245 19.7556 20.5697 19.8453C20.4149 19.935 20.2389 19.9815 20.06 19.98H3.94C3.76111 19.9815 3.5851 19.935 3.43032 19.8453C3.27553 19.7556 3.14765 19.626 3.06 19.47C2.97223 19.318 2.92602 19.1456 2.92602 18.97C2.92602 18.7945 2.97223 18.622 3.06 18.47L11.06 4.47003C11.1439 4.30623 11.2714 4.16876 11.4284 4.07277C11.5855 3.97678 11.766 3.92599 11.95 3.92599C12.134 3.92599 12.3145 3.97678 12.4716 4.07277C12.6286 4.16876 12.7561 4.30623 12.84 4.47003L20.89 18.47C20.9892 18.6199 21.0462 18.7937 21.055 18.9732C21.0638 19.1527 21.0241 19.3312 20.94 19.49V19.47ZM12 8.00003C11.7348 8.00003 11.4804 8.10538 11.2929 8.29292C11.1054 8.48046 11 8.73481 11 9.00003V13C11 13.2652 11.1054 13.5196 11.2929 13.7071C11.4804 13.8947 11.7348 14 12 14C12.2652 14 12.5196 13.8947 12.7071 13.7071C12.8946 13.5196 13 13.2652 13 13V9.00003C13 8.73481 12.8946 8.48046 12.7071 8.29292C12.5196 8.10538 12.2652 8.00003 12 8.00003Z"></path></svg>Start from the correct project outline!</p><div class="starlight-aside__content"><p>Create a new project using the <strong>Tutorial Project outline</strong>! Not the empty one!</p></div></aside>
<div class="sl-heading-wrapper level-h2"><h2 id="installing-a-module">Installing a module</h2><a class="sl-anchor-link" href="#installing-a-module"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Installing a module”</span></a></div>
<p>In order to run our project, we first need to install a module. If you don’t, you’ll get errors!</p>
<p>You can use the launcher to install modules. Head over to the module page, and search for the arcade module.
Once you find it, you can click through, and click the download arrow.</p>
<p>The project is configured to use version <code dir="auto">0.0.24</code>, install that version.</p>
<aside aria-label="Do this" class="starlight-aside starlight-aside--tip"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M3.726 0.261L12 0.261L19.476 0.261Q21.030 0.261 22.206 1.227Q23.382 2.193 23.676 3.663L23.676 3.663Q23.802 3.915 23.802 4.461L23.802 4.461L23.802 19.413Q23.802 21.009 22.815 22.206Q21.828 23.403 20.274 23.613L20.274 23.613Q20.148 23.613 19.875 23.676Q19.602 23.739 19.476 23.739L19.476 23.739L4.650 23.739Q2.676 23.739 1.437 22.521Q0.198 21.303 0.198 19.413L0.198 19.413L0.198 4.587Q0.198 2.907 1.164 1.731Q2.130 0.555 3.726 0.261L3.726 0.261ZM3.726 12.063L3.726 12.063L3.726 19.539Q3.726 20.337 4.650 20.337L4.650 20.337L19.350 20.337Q19.728 20.337 20.001 20.064Q20.274 19.791 20.274 19.413L20.274 19.413L20.274 4.713Q20.148 4.209 19.917 3.999Q19.686 3.789 19.224 3.789L19.224 3.789L4.524 3.789Q4.020 3.789 3.810 3.999Q3.600 4.209 3.600 4.713L3.600 4.713Q3.726 7.065 3.726 12.063ZM6.876 10.341L6.876 10.341Q7.002 10.425 7.212 10.467L7.212 10.467L7.548 10.635Q8.010 10.803 8.913 11.265Q9.816 11.727 10.278 11.937L10.278 11.937Q10.488 12.021 10.530 12.021Q10.572 12.021 10.698 11.937L10.698 11.937L12.420 10.635Q15.066 8.661 16.452 7.737L16.452 7.737Q16.620 7.569 16.914 7.443L16.914 7.443Q17.082 7.401 17.124 7.359L17.124 7.359Q17.418 7.233 17.607 7.464Q17.796 7.695 17.796 7.989L17.796 7.989L17.628 8.241Q17.502 8.451 17.502 8.535L17.502 8.535Q16.830 9.417 15.528 11.307L15.528 11.307L14.226 13.113Q12.672 15.255 11.874 16.263L11.874 16.263Q11.370 17.019 10.698 16.977Q10.026 16.935 9.522 16.137L9.522 16.137L6.498 11.685Q6.204 11.391 6.204 11.265L6.204 11.265Q6.120 10.887 6.309 10.614Q6.498 10.341 6.876 10.341Z"></path></svg>Do this</p><div class="starlight-aside__content"><p>Install <code dir="auto">arcade</code> version <code dir="auto">0.0.24</code> to continue!</p></div></aside>
<p><img src="/_astro/modules.1.BTkEHk4W_1MDsA8.webp" alt loading="lazy" decoding="async" fetchpriority="auto" width="1202" height="752">
<img src="/_astro/modules.2.D7RI4vUd_Z1SxDpQ.webp" alt loading="lazy" decoding="async" fetchpriority="auto" width="1202" height="752">
<img src="/_astro/modules.3.CQeivruX_1aaaFj.webp" alt loading="lazy" decoding="async" fetchpriority="auto" width="1202" height="752"></p>
<div class="sl-heading-wrapper level-h2"><h2 id="using-the-module-in-a-project">Using the module in a project</h2><a class="sl-anchor-link" href="#using-the-module-in-a-project"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Using the module in a project”</span></a></div>
<p>If you look inside of the <code dir="auto">luxe.project/modules.lx</code> file you’ll find the <code dir="auto">luxe</code> and <code dir="auto">arcade</code> modules referenced by version.
You can use the launcher to add a module to the project using the <code dir="auto">+</code> icon, or you can manually add it to this file.</p>
<p>In this case, it’s already there from the outline, so let’s move on!</p>
<div class="sl-heading-wrapper level-h2"><h2 id="the-transform-api">The <code dir="auto">Transform</code> API</h2><a class="sl-anchor-link" href="#the-transform-api"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “The Transform API”</span></a></div>
<p>In the <code dir="auto">Draw</code> tutorial, we drew a circle in the center of the screen using an immediate style API.</p>
<p>With the world system, we can create things in the world that will continue to draw as long as they’re alive.
An Entity in the world can also have modifiers attached that perform logic, and run gameplay code.</p>
<aside aria-label="We saw this in the empty project template, right before deleting it!" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM12.38 7.08C12.1365 6.97998 11.8635 6.97998 11.62 7.08C11.4973 7.12759 11.3851 7.19896 11.29 7.29C11.2017 7.3872 11.1306 7.49882 11.08 7.62C11.024 7.73868 10.9966 7.86882 11 8C10.9992 8.13161 11.0245 8.26207 11.0742 8.38391C11.124 8.50574 11.1973 8.61656 11.29 8.71C11.3872 8.79833 11.4988 8.86936 11.62 8.92C11.7715 8.98224 11.936 9.00632 12.099 8.99011C12.2619 8.97391 12.4184 8.91792 12.5547 8.82707C12.691 8.73622 12.8029 8.61328 12.8805 8.46907C12.9582 8.32486 12.9992 8.16378 13 8C12.9963 7.73523 12.8927 7.48163 12.71 7.29C12.6149 7.19896 12.5028 7.12759 12.38 7.08ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z"></path></svg>We saw this in the empty project template, right before deleting it!</p><div class="starlight-aside__content"></div></aside>
<p>To create an entity, we do <code dir="auto">Entity.create(world)</code> - this gives us a blank entity, and is ready to be modified to give it meaning.</p>
<p>The first thing we’ll do, is attach a <code dir="auto">Transform</code> modifier. Modifiers use the same <code dir="auto">create</code> pattern,
and some modifiers add <code dir="auto">create</code> functions with convenience arguments, like we’ll see below from <code dir="auto">Sprite.create</code>.</p>
<p>Let’s create a new <code dir="auto">player</code> variable in our game, and then inside ready we’ll create an entity, attach a transform and a sprite to it.</p>
<aside aria-label="world_width/world_height?" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM12.38 7.08C12.1365 6.97998 11.8635 6.97998 11.62 7.08C11.4973 7.12759 11.3851 7.19896 11.29 7.29C11.2017 7.3872 11.1306 7.49882 11.08 7.62C11.024 7.73868 10.9966 7.86882 11 8C10.9992 8.13161 11.0245 8.26207 11.0742 8.38391C11.124 8.50574 11.1973 8.61656 11.29 8.71C11.3872 8.79833 11.4988 8.86936 11.62 8.92C11.7715 8.98224 11.936 9.00632 12.099 8.99011C12.2619 8.97391 12.4184 8.91792 12.5547 8.82707C12.691 8.73622 12.8029 8.61328 12.8805 8.46907C12.9582 8.32486 12.9992 8.16378 13 8C12.9963 7.73523 12.8927 7.48163 12.71 7.29C12.6149 7.19896 12.5028 7.12759 12.38 7.08ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z"></path></svg><code dir="auto">world_width/world_height</code>?</p><div class="starlight-aside__content"><p>Since our tutorial outline is based on the pixel outline, we have a fixed world size that will auto scale. This size is set in <code dir="auto">outline/settings.settings.lx</code> and the size of the world is available in <code dir="auto">world_width</code> and <code dir="auto">world_height</code>. This is different from <code dir="auto">width</code>/<code dir="auto">height</code>, which is the window size.</p></div></aside>
<aside aria-label="Do this" class="starlight-aside starlight-aside--tip"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M3.726 0.261L12 0.261L19.476 0.261Q21.030 0.261 22.206 1.227Q23.382 2.193 23.676 3.663L23.676 3.663Q23.802 3.915 23.802 4.461L23.802 4.461L23.802 19.413Q23.802 21.009 22.815 22.206Q21.828 23.403 20.274 23.613L20.274 23.613Q20.148 23.613 19.875 23.676Q19.602 23.739 19.476 23.739L19.476 23.739L4.650 23.739Q2.676 23.739 1.437 22.521Q0.198 21.303 0.198 19.413L0.198 19.413L0.198 4.587Q0.198 2.907 1.164 1.731Q2.130 0.555 3.726 0.261L3.726 0.261ZM3.726 12.063L3.726 12.063L3.726 19.539Q3.726 20.337 4.650 20.337L4.650 20.337L19.350 20.337Q19.728 20.337 20.001 20.064Q20.274 19.791 20.274 19.413L20.274 19.413L20.274 4.713Q20.148 4.209 19.917 3.999Q19.686 3.789 19.224 3.789L19.224 3.789L4.524 3.789Q4.020 3.789 3.810 3.999Q3.600 4.209 3.600 4.713L3.600 4.713Q3.726 7.065 3.726 12.063ZM6.876 10.341L6.876 10.341Q7.002 10.425 7.212 10.467L7.212 10.467L7.548 10.635Q8.010 10.803 8.913 11.265Q9.816 11.727 10.278 11.937L10.278 11.937Q10.488 12.021 10.530 12.021Q10.572 12.021 10.698 11.937L10.698 11.937L12.420 10.635Q15.066 8.661 16.452 7.737L16.452 7.737Q16.620 7.569 16.914 7.443L16.914 7.443Q17.082 7.401 17.124 7.359L17.124 7.359Q17.418 7.233 17.607 7.464Q17.796 7.695 17.796 7.989L17.796 7.989L17.628 8.241Q17.502 8.451 17.502 8.535L17.502 8.535Q16.830 9.417 15.528 11.307L15.528 11.307L14.226 13.113Q12.672 15.255 11.874 16.263L11.874 16.263Q11.370 17.019 10.698 16.977Q10.026 16.935 9.522 16.137L9.522 16.137L6.498 11.685Q6.204 11.391 6.204 11.265L6.204 11.265Q6.120 10.887 6.309 10.614Q6.498 10.341 6.876 10.341Z"></path></svg>Do this</p><div class="starlight-aside__content"><p>Add the highlighted code to <code dir="auto">ready</code></p></div></aside>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.9unvh.css"><script type="module" src="/_astro/ec.p1z7b.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">class</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">Game</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">is</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">Ready</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">  </span></span><span style="--0:#C6D0F5;--1:#4C4F69">var random </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> Random</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">new</span><span style="--0:#C6D0F5;--1:#4C4F69">()</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">  </span></span><span style="--0:#C6D0F5;--1:#4C4F69">var draw</span><span style="--0:#81C8BE;--1:#116E73">:</span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic"> Draw </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#CA9EE6;--1:#8035E0">null</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">  </span></span><span style="--0:#C6D0F5">var player </span></span><span style="--0:#81C8BE;--1:#0d5458">=</span><span style="--0:#C6D0F5;--1:#474a62"> Entity</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#C6D0F5;--1:#474a62">none</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">  </span></span><span style="--0:#C6D0F5;--1:#4C4F69">construct </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">ready</span><span style="--0:#949CBB;--1:#616373">()</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#CA9EE6;--1:#8035E0">super</span><span style="--0:#C6D0F5;--1:#4C4F69">(</span><span style="--0:#A6D189;--1:#2D711E">"ready! %(width) x %(height) @ %(scale)x"</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">draw </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> Draw</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">create</span><span style="--0:#C6D0F5;--1:#4C4F69">(World</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">render_set</span><span style="--0:#C6D0F5;--1:#4C4F69">(world))</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">    </span></span><span style="--0:#C6D0F5">player </span></span><span style="--0:#81C8BE;--1:#0d5458">=</span><span style="--0:#C6D0F5;--1:#474a62"> Entity</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">create</span><span style="--0:#C6D0F5;--1:#474a62">(world</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#A6D189;--1:#235817">"player"</span><span style="--0:#C6D0F5;--1:#474a62">)</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">    </span></span><span style="--0:#C6D0F5">Transform</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">create</span><span style="--0:#C6D0F5;--1:#474a62">(player</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> world_width</span><span style="--0:#81C8BE;--1:#0d5458">/</span><span style="--0:#f0a57f;--1:#833305">2</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> world_height</span><span style="--0:#81C8BE;--1:#0d5458">/</span><span style="--0:#f0a57f;--1:#833305">2</span><span style="--0:#C6D0F5;--1:#474a62">)</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">    </span></span><span style="--0:#C6D0F5">Sprite</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">create</span><span style="--0:#C6D0F5;--1:#474a62">(player</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> Assets</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">image</span><span style="--0:#C6D0F5;--1:#474a62">(</span><span style="--0:#A6D189;--1:#235817">"image/bee"</span><span style="--0:#C6D0F5;--1:#474a62">)</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#f0a57f;--1:#833305">64</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#f0a57f;--1:#833305">64</span><span style="--0:#C6D0F5;--1:#474a62">)</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#949CBB;--1:#616373">}</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--0fs:italic;--1:#616373;--1fs:italic">//ready</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="class Game is Ready {  var random = Random.new()  var draw: Draw = null  var player = Entity.none  construct ready() {    super(&#x22;ready! %(width) x %(height) @ %(scale)x&#x22;)    draw = Draw.create(World.render_set(world))    player = Entity.create(world, &#x22;player&#x22;)    Transform.create(player, world_width/2, world_height/2)    Sprite.create(player, Assets.image(&#x22;image/bee&#x22;), 64, 64)  } //ready"><div></div></button></div></figure></div>
<p>And just like that, we have our player in the middle of the screen.</p>
<p><img src="/_astro/player.CYWVcMWu_ZvfQ6K.webp" alt loading="lazy" decoding="async" fetchpriority="auto" width="962" height="672"></p>
<div class="sl-heading-wrapper level-h2"><h2 id="arcade-physics">Arcade physics</h2><a class="sl-anchor-link" href="#arcade-physics"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Arcade physics”</span></a></div>
<p>The <code dir="auto">arcade</code> module provides collision + physics for a wide range of games, and comes with a bunch of ready to use tools.</p>
<p>The first important one is the Arcade modifier, which gives an entity a collider shape, and allows you to choose flags like whether it’s solid or a trigger, what shape it is, change the velocity and more. It also gives us a callback for when we collide with something, so we can implement a response to overlapping or colliding with something.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="arcade-import">Arcade import</h3><a class="sl-anchor-link" href="#arcade-import"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Arcade import”</span></a></div>
<p>We’re gonna use the <code dir="auto">Arcade</code> modifier and some services from the <code dir="auto">arcade</code> module to make our bee interact with the world.</p>
<p>We’ll import that module into the top of our <code dir="auto">game.wren</code> code like this:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">import</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"arcade: system/arcade.modifier"</span><span style="--0:#C6D0F5;--1:#4C4F69"> for Arcade</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> CollisionEvent</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> ShapeType</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import &#x22;arcade: system/arcade.modifier&#x22; for Arcade, CollisionEvent, ShapeType"><div></div></button></div></figure></div>
<p>We can see the import part contains <code dir="auto">arcade: </code> up front. This should be familiar, <code dir="auto">luxe: </code> imports are from the luxe module! Like <code dir="auto">luxe: color</code> belongs to the luxe module. Imports without a prefix like that, usually belong to the project!</p>
<div class="sl-heading-wrapper level-h3"><h3 id="attach-an-arcade-modifier">Attach an arcade modifier</h3><a class="sl-anchor-link" href="#attach-an-arcade-modifier"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Attach an arcade modifier”</span></a></div>
<p>Much like a <code dir="auto">Transform</code> or <code dir="auto">Sprite</code>, we can attach <code dir="auto">Arcade</code> to an entity using the same create pattern.
Let’s tidy up and make a <code dir="auto">create_player()</code>  function, and move our player code into it.</p>
<aside aria-label="Do this" class="starlight-aside starlight-aside--tip"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M3.726 0.261L12 0.261L19.476 0.261Q21.030 0.261 22.206 1.227Q23.382 2.193 23.676 3.663L23.676 3.663Q23.802 3.915 23.802 4.461L23.802 4.461L23.802 19.413Q23.802 21.009 22.815 22.206Q21.828 23.403 20.274 23.613L20.274 23.613Q20.148 23.613 19.875 23.676Q19.602 23.739 19.476 23.739L19.476 23.739L4.650 23.739Q2.676 23.739 1.437 22.521Q0.198 21.303 0.198 19.413L0.198 19.413L0.198 4.587Q0.198 2.907 1.164 1.731Q2.130 0.555 3.726 0.261L3.726 0.261ZM3.726 12.063L3.726 12.063L3.726 19.539Q3.726 20.337 4.650 20.337L4.650 20.337L19.350 20.337Q19.728 20.337 20.001 20.064Q20.274 19.791 20.274 19.413L20.274 19.413L20.274 4.713Q20.148 4.209 19.917 3.999Q19.686 3.789 19.224 3.789L19.224 3.789L4.524 3.789Q4.020 3.789 3.810 3.999Q3.600 4.209 3.600 4.713L3.600 4.713Q3.726 7.065 3.726 12.063ZM6.876 10.341L6.876 10.341Q7.002 10.425 7.212 10.467L7.212 10.467L7.548 10.635Q8.010 10.803 8.913 11.265Q9.816 11.727 10.278 11.937L10.278 11.937Q10.488 12.021 10.530 12.021Q10.572 12.021 10.698 11.937L10.698 11.937L12.420 10.635Q15.066 8.661 16.452 7.737L16.452 7.737Q16.620 7.569 16.914 7.443L16.914 7.443Q17.082 7.401 17.124 7.359L17.124 7.359Q17.418 7.233 17.607 7.464Q17.796 7.695 17.796 7.989L17.796 7.989L17.628 8.241Q17.502 8.451 17.502 8.535L17.502 8.535Q16.830 9.417 15.528 11.307L15.528 11.307L14.226 13.113Q12.672 15.255 11.874 16.263L11.874 16.263Q11.370 17.019 10.698 16.977Q10.026 16.935 9.522 16.137L9.522 16.137L6.498 11.685Q6.204 11.391 6.204 11.265L6.204 11.265Q6.120 10.887 6.309 10.614Q6.498 10.341 6.876 10.341Z"></path></svg>Do this</p><div class="starlight-aside__content"><p>Add the highlighted code changes</p></div></aside>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#C6D0F5;--1:#4C4F69">construct </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">ready</span><span style="--0:#C6D0F5;--1:#4C4F69">() </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#CA9EE6;--1:#8035E0">super</span><span style="--0:#C6D0F5;--1:#4C4F69">(</span><span style="--0:#A6D189;--1:#2D711E">"ready! %(width) x %(height) @ %(scale)x"</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">  </span></span><span style="--0:#C6D0F5;--1:#4C4F69">draw </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> Draw</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">create</span><span style="--0:#C6D0F5;--1:#4C4F69">(World</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">render_set</span><span style="--0:#C6D0F5;--1:#4C4F69">(world))</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">  </span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">create_player</span><span style="--0:#C6D0F5;--1:#474a62">()</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#949CBB;--1:#616373">}</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--0fs:italic;--1:#616373;--1fs:italic">//ready</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">create_player</span><span style="--0:#C6D0F5;--1:#474a62">() </span><span style="--0:#b0b6cd;--1:#4a4c58">{</span></div></div><div class="ec-line highlight ins"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">  </span></span><span style="--0:#C6D0F5">player </span></span><span style="--0:#81C8BE;--1:#0d5458">=</span><span style="--0:#C6D0F5;--1:#474a62"> Entity</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">create</span><span style="--0:#C6D0F5;--1:#474a62">(world</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#A6D189;--1:#235817">"player"</span><span style="--0:#C6D0F5;--1:#474a62">)</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">  </span></span><span style="--0:#C6D0F5">Transform</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">create</span><span style="--0:#C6D0F5;--1:#474a62">(player</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> world_width</span><span style="--0:#81C8BE;--1:#0d5458">/</span><span style="--0:#f0a57f;--1:#833305">2</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> world_height</span><span style="--0:#81C8BE;--1:#0d5458">/</span><span style="--0:#f0a57f;--1:#833305">2</span><span style="--0:#C6D0F5;--1:#474a62">)</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">  </span></span><span style="--0:#C6D0F5">Sprite</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">create</span><span style="--0:#C6D0F5;--1:#474a62">(player</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> Assets</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">image</span><span style="--0:#C6D0F5;--1:#474a62">(</span><span style="--0:#A6D189;--1:#235817">"image/bee"</span><span style="--0:#C6D0F5;--1:#474a62">)</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#f0a57f;--1:#833305">64</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#f0a57f;--1:#833305">64</span><span style="--0:#C6D0F5;--1:#474a62">)</span></div></div><div class="ec-line highlight ins"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">  </span></span><span style="--0:#C6D0F5">Arcade</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">create</span><span style="--0:#C6D0F5;--1:#474a62">(player)</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">  </span></span><span style="--0:#C6D0F5">Arcade</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">set_shape_type</span><span style="--0:#C6D0F5;--1:#474a62">(player</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> ShapeType</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#C6D0F5;--1:#474a62">circle)</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">  </span></span><span style="--0:#C6D0F5">Arcade</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">set_radius</span><span style="--0:#C6D0F5;--1:#474a62">(player</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#f0a57f;--1:#833305">32</span><span style="--0:#C6D0F5;--1:#474a62">)</span></div></div><div class="ec-line highlight ins"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#b0b6cd;--1:#4a4c58">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="construct ready() {  super(&#x22;ready! %(width) x %(height) @ %(scale)x&#x22;)  draw = Draw.create(World.render_set(world))  create_player()} //readycreate_player() {  player = Entity.create(world, &#x22;player&#x22;)  Transform.create(player, world_width/2, world_height/2)  Sprite.create(player, Assets.image(&#x22;image/bee&#x22;), 64, 64)  Arcade.create(player)  Arcade.set_shape_type(player, ShapeType.circle)  Arcade.set_radius(player, 32)}"><div></div></button></div></figure></div>
<p>If we run this, it will look identical to before! That’s because there’s no gravity or anything on our entity.
So how do we know it’s working? How do we know the radius matches? We can ask <code dir="auto">Arcade</code> to debug draw the physics state.</p>
<aside aria-label="Do this" class="starlight-aside starlight-aside--tip"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M3.726 0.261L12 0.261L19.476 0.261Q21.030 0.261 22.206 1.227Q23.382 2.193 23.676 3.663L23.676 3.663Q23.802 3.915 23.802 4.461L23.802 4.461L23.802 19.413Q23.802 21.009 22.815 22.206Q21.828 23.403 20.274 23.613L20.274 23.613Q20.148 23.613 19.875 23.676Q19.602 23.739 19.476 23.739L19.476 23.739L4.650 23.739Q2.676 23.739 1.437 22.521Q0.198 21.303 0.198 19.413L0.198 19.413L0.198 4.587Q0.198 2.907 1.164 1.731Q2.130 0.555 3.726 0.261L3.726 0.261ZM3.726 12.063L3.726 12.063L3.726 19.539Q3.726 20.337 4.650 20.337L4.650 20.337L19.350 20.337Q19.728 20.337 20.001 20.064Q20.274 19.791 20.274 19.413L20.274 19.413L20.274 4.713Q20.148 4.209 19.917 3.999Q19.686 3.789 19.224 3.789L19.224 3.789L4.524 3.789Q4.020 3.789 3.810 3.999Q3.600 4.209 3.600 4.713L3.600 4.713Q3.726 7.065 3.726 12.063ZM6.876 10.341L6.876 10.341Q7.002 10.425 7.212 10.467L7.212 10.467L7.548 10.635Q8.010 10.803 8.913 11.265Q9.816 11.727 10.278 11.937L10.278 11.937Q10.488 12.021 10.530 12.021Q10.572 12.021 10.698 11.937L10.698 11.937L12.420 10.635Q15.066 8.661 16.452 7.737L16.452 7.737Q16.620 7.569 16.914 7.443L16.914 7.443Q17.082 7.401 17.124 7.359L17.124 7.359Q17.418 7.233 17.607 7.464Q17.796 7.695 17.796 7.989L17.796 7.989L17.628 8.241Q17.502 8.451 17.502 8.535L17.502 8.535Q16.830 9.417 15.528 11.307L15.528 11.307L14.226 13.113Q12.672 15.255 11.874 16.263L11.874 16.263Q11.370 17.019 10.698 16.977Q10.026 16.935 9.522 16.137L9.522 16.137L6.498 11.685Q6.204 11.391 6.204 11.265L6.204 11.265Q6.120 10.887 6.309 10.614Q6.498 10.341 6.876 10.341Z"></path></svg>Do this</p><div class="starlight-aside__content"><p>Add the highlighted code changes to <code dir="auto">create_player</code></p></div></aside>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#81C8BE;--1:#116E73">...</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C6D0F5;--1:#4C4F69">Arcade</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">set_radius</span><span style="--0:#C6D0F5;--1:#4C4F69">(player</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">32</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#C6D0F5;--1:#474a62">Arcade</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">set_debug_draw_enabled</span><span style="--0:#C6D0F5;--1:#474a62">(world</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#f0a57f;--1:#833305">true</span><span style="--0:#C6D0F5;--1:#474a62">)</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="...Arcade.set_radius(player, 32)Arcade.set_debug_draw_enabled(world, true)"><div></div></button></div></figure></div>
<p><img src="/_astro/arcade.1.Cq6Fr9G1_1YY9r1.webp" alt loading="lazy" decoding="async" fetchpriority="auto" width="962" height="672"></p>
<p>Gravity is a constant acceleration, so we can use the <code dir="auto">Arcade.set_acc</code> tool to add a downward acceleration.
The value is relative to your world size, and is game specific. For this game, we’ll pick <code dir="auto">-200</code> as that feels good.
You can make it whatever you want!</p>
<aside aria-label="Do this" class="starlight-aside starlight-aside--tip"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M3.726 0.261L12 0.261L19.476 0.261Q21.030 0.261 22.206 1.227Q23.382 2.193 23.676 3.663L23.676 3.663Q23.802 3.915 23.802 4.461L23.802 4.461L23.802 19.413Q23.802 21.009 22.815 22.206Q21.828 23.403 20.274 23.613L20.274 23.613Q20.148 23.613 19.875 23.676Q19.602 23.739 19.476 23.739L19.476 23.739L4.650 23.739Q2.676 23.739 1.437 22.521Q0.198 21.303 0.198 19.413L0.198 19.413L0.198 4.587Q0.198 2.907 1.164 1.731Q2.130 0.555 3.726 0.261L3.726 0.261ZM3.726 12.063L3.726 12.063L3.726 19.539Q3.726 20.337 4.650 20.337L4.650 20.337L19.350 20.337Q19.728 20.337 20.001 20.064Q20.274 19.791 20.274 19.413L20.274 19.413L20.274 4.713Q20.148 4.209 19.917 3.999Q19.686 3.789 19.224 3.789L19.224 3.789L4.524 3.789Q4.020 3.789 3.810 3.999Q3.600 4.209 3.600 4.713L3.600 4.713Q3.726 7.065 3.726 12.063ZM6.876 10.341L6.876 10.341Q7.002 10.425 7.212 10.467L7.212 10.467L7.548 10.635Q8.010 10.803 8.913 11.265Q9.816 11.727 10.278 11.937L10.278 11.937Q10.488 12.021 10.530 12.021Q10.572 12.021 10.698 11.937L10.698 11.937L12.420 10.635Q15.066 8.661 16.452 7.737L16.452 7.737Q16.620 7.569 16.914 7.443L16.914 7.443Q17.082 7.401 17.124 7.359L17.124 7.359Q17.418 7.233 17.607 7.464Q17.796 7.695 17.796 7.989L17.796 7.989L17.628 8.241Q17.502 8.451 17.502 8.535L17.502 8.535Q16.830 9.417 15.528 11.307L15.528 11.307L14.226 13.113Q12.672 15.255 11.874 16.263L11.874 16.263Q11.370 17.019 10.698 16.977Q10.026 16.935 9.522 16.137L9.522 16.137L6.498 11.685Q6.204 11.391 6.204 11.265L6.204 11.265Q6.120 10.887 6.309 10.614Q6.498 10.341 6.876 10.341Z"></path></svg>Do this</p><div class="starlight-aside__content"><p>Add the highlighted code changes to <code dir="auto">create_player</code></p></div></aside>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#81C8BE;--1:#116E73">...</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C6D0F5;--1:#4C4F69">Arcade</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">set_radius</span><span style="--0:#C6D0F5;--1:#4C4F69">(player</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">32</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#C6D0F5;--1:#474a62">Arcade</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">set_acc</span><span style="--0:#C6D0F5;--1:#474a62">(player</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> [</span><span style="--0:#f0a57f;--1:#833305">0</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#81C8BE;--1:#0d5458">-</span><span style="--0:#f0a57f;--1:#833305">200</span><span style="--0:#C6D0F5;--1:#474a62">])</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C6D0F5;--1:#4C4F69">Arcade</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">set_debug_draw_enabled</span><span style="--0:#C6D0F5;--1:#4C4F69">(world</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">true</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="...Arcade.set_radius(player, 32)Arcade.set_acc(player, [0, -200])Arcade.set_debug_draw_enabled(world, true)"><div></div></button></div></figure></div>
<p>If you run this now, you should see the bee falling off the bottom of the world!</p>
<video preload="auto" autoplay controls muted playinsline="true" loop style="max-width:100%; width:auto; margin:auto; display:block;"><source src="/video/getting-started/world/arcade.2.mp4" type="video/mp4"/></video>
<div class="sl-heading-wrapper level-h2"><h2 id="loading-a-scene">Loading a scene</h2><a class="sl-anchor-link" href="#loading-a-scene"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Loading a scene”</span></a></div>
<p>Our outline includes a scene that has been created for us. This scene includes some background details, and a floor collider which will keep our bee on screen.</p>
<p>A scene is a kind of data based asset, a container for pre-configured entities with their modifiers already attached.</p>
<p>A particular scene can only be loaded once into the same world, but you can load multiple scenes into the same world.
This makes them useful as a tool to layer or keep things loaded in the world, and much more. Scenes are typically what you would use for stuff like a Menu, or Level based games.</p>
<aside aria-label="Scene assets" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM12.38 7.08C12.1365 6.97998 11.8635 6.97998 11.62 7.08C11.4973 7.12759 11.3851 7.19896 11.29 7.29C11.2017 7.3872 11.1306 7.49882 11.08 7.62C11.024 7.73868 10.9966 7.86882 11 8C10.9992 8.13161 11.0245 8.26207 11.0742 8.38391C11.124 8.50574 11.1973 8.61656 11.29 8.71C11.3872 8.79833 11.4988 8.86936 11.62 8.92C11.7715 8.98224 11.936 9.00632 12.099 8.99011C12.2619 8.97391 12.4184 8.91792 12.5547 8.82707C12.691 8.73622 12.8029 8.61328 12.8805 8.46907C12.9582 8.32486 12.9992 8.16378 13 8C12.9963 7.73523 12.8927 7.48163 12.71 7.29C12.6149 7.19896 12.5028 7.12759 12.38 7.08ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z"></path></svg>Scene assets</p><div class="starlight-aside__content"><p>Scenes are typically created with the luxe editor, but they’re simple data inside of a folder.
Take a look inside the <code dir="auto">scene/level.scene/</code> folder, and look inside any <code dir="auto">.entity.lx</code> file!</p></div></aside>
<p>With <code dir="auto">Scene.create</code> we can load a scene from an asset. We’ll use the <code dir="auto">Asset.scene(id)</code> to grab the asset handle of the scene.</p>
<aside aria-label="Work In Progress Asset API" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM12.38 7.08C12.1365 6.97998 11.8635 6.97998 11.62 7.08C11.4973 7.12759 11.3851 7.19896 11.29 7.29C11.2017 7.3872 11.1306 7.49882 11.08 7.62C11.024 7.73868 10.9966 7.86882 11 8C10.9992 8.13161 11.0245 8.26207 11.0742 8.38391C11.124 8.50574 11.1973 8.61656 11.29 8.71C11.3872 8.79833 11.4988 8.86936 11.62 8.92C11.7715 8.98224 11.936 9.00632 12.099 8.99011C12.2619 8.97391 12.4184 8.91792 12.5547 8.82707C12.691 8.73622 12.8029 8.61328 12.8805 8.46907C12.9582 8.32486 12.9992 8.16378 13 8C12.9963 7.73523 12.8927 7.48163 12.71 7.29C12.6149 7.19896 12.5028 7.12759 12.38 7.08ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z"></path></svg>Work In Progress Asset API</p><div class="starlight-aside__content"><p>The <code dir="auto">Scene</code> API is available via <code dir="auto">import "luxe: world/scene" for Scene</code> and is imported already.</p><p>Some assets, like the image above, use the older <code dir="auto">Assets.image(id)</code> API (plural), while the scene and newer assets use <code dir="auto">Asset.scene(id)</code> API (singular). The reason both exist is because we’re moving to the new system and some assets aren’t done moving yet.</p></div></aside>
<p>Just before we create our player, we’ll load our level scene into the world.</p>
<aside aria-label="Do this" class="starlight-aside starlight-aside--tip"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M3.726 0.261L12 0.261L19.476 0.261Q21.030 0.261 22.206 1.227Q23.382 2.193 23.676 3.663L23.676 3.663Q23.802 3.915 23.802 4.461L23.802 4.461L23.802 19.413Q23.802 21.009 22.815 22.206Q21.828 23.403 20.274 23.613L20.274 23.613Q20.148 23.613 19.875 23.676Q19.602 23.739 19.476 23.739L19.476 23.739L4.650 23.739Q2.676 23.739 1.437 22.521Q0.198 21.303 0.198 19.413L0.198 19.413L0.198 4.587Q0.198 2.907 1.164 1.731Q2.130 0.555 3.726 0.261L3.726 0.261ZM3.726 12.063L3.726 12.063L3.726 19.539Q3.726 20.337 4.650 20.337L4.650 20.337L19.350 20.337Q19.728 20.337 20.001 20.064Q20.274 19.791 20.274 19.413L20.274 19.413L20.274 4.713Q20.148 4.209 19.917 3.999Q19.686 3.789 19.224 3.789L19.224 3.789L4.524 3.789Q4.020 3.789 3.810 3.999Q3.600 4.209 3.600 4.713L3.600 4.713Q3.726 7.065 3.726 12.063ZM6.876 10.341L6.876 10.341Q7.002 10.425 7.212 10.467L7.212 10.467L7.548 10.635Q8.010 10.803 8.913 11.265Q9.816 11.727 10.278 11.937L10.278 11.937Q10.488 12.021 10.530 12.021Q10.572 12.021 10.698 11.937L10.698 11.937L12.420 10.635Q15.066 8.661 16.452 7.737L16.452 7.737Q16.620 7.569 16.914 7.443L16.914 7.443Q17.082 7.401 17.124 7.359L17.124 7.359Q17.418 7.233 17.607 7.464Q17.796 7.695 17.796 7.989L17.796 7.989L17.628 8.241Q17.502 8.451 17.502 8.535L17.502 8.535Q16.830 9.417 15.528 11.307L15.528 11.307L14.226 13.113Q12.672 15.255 11.874 16.263L11.874 16.263Q11.370 17.019 10.698 16.977Q10.026 16.935 9.522 16.137L9.522 16.137L6.498 11.685Q6.204 11.391 6.204 11.265L6.204 11.265Q6.120 10.887 6.309 10.614Q6.498 10.341 6.876 10.341Z"></path></svg>Do this</p><div class="starlight-aside__content"><p>Add the highlighted line in <code dir="auto">ready</code>, inside <code dir="auto">game.wren</code></p></div></aside>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#C6D0F5;--1:#4C4F69">construct </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">ready</span><span style="--0:#C6D0F5;--1:#4C4F69">() </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#CA9EE6;--1:#8035E0">super</span><span style="--0:#C6D0F5;--1:#4C4F69">(</span><span style="--0:#A6D189;--1:#2D711E">"ready! %(width) x %(height) @ %(scale)x"</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">  </span></span><span style="--0:#C6D0F5;--1:#4C4F69">draw </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> Draw</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">create</span><span style="--0:#C6D0F5;--1:#4C4F69">(World</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">render_set</span><span style="--0:#C6D0F5;--1:#4C4F69">(world))</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">  </span></span><span style="--0:#C6D0F5">Scene</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">create</span><span style="--0:#C6D0F5;--1:#474a62">(world</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> Asset</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">scene</span><span style="--0:#C6D0F5;--1:#474a62">(</span><span style="--0:#A6D189;--1:#235817">"scene/level"</span><span style="--0:#C6D0F5;--1:#474a62">))</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">create_player</span><span style="--0:#C6D0F5;--1:#4C4F69">()</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#949CBB;--1:#616373">}</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--0fs:italic;--1:#616373;--1fs:italic">//ready</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="construct ready() {  super(&#x22;ready! %(width) x %(height) @ %(scale)x&#x22;)  draw = Draw.create(World.render_set(world))  Scene.create(world, Asset.scene(&#x22;scene/level&#x22;))  create_player()} //ready"><div></div></button></div></figure></div>
<p>With that, we’ll see the clouds, some buildings, a gradient and we’ll see the floor collider. The bee will bounce off the floor, and we’re ready for the next step.</p>
<video preload="auto" autoplay controls muted playinsline="true" loop style="max-width:100%; width:auto; margin:auto; display:block;"><source src="/video/getting-started/world/arcade.3.mp4" type="video/mp4"/></video>
<div class="sl-heading-wrapper level-h2"><h2 id="named-input-events">Named input events</h2><a class="sl-anchor-link" href="#named-input-events"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Named input events”</span></a></div>
<p>In the first tutorial, we used <code dir="auto">Input.key_state_released</code> to directly query a key.
This is great for quick prototypes but doesn’t allow multiple keys, gamepads, or mouse inputs easily.</p>
<p>For that we’ll need to use <strong>named input events</strong>. A named input event is what it sounds like, a name assigned to one or more inputs!
We have a few of these already defined by our project, if you look inside of <code dir="auto">outline/inputs.input.lx</code> you’ll see this:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#C6D0F5;--1:#4C4F69">jump </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">  </span></span><span style="--0:#C6D0F5;--1:#4C4F69">keys </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> [</span><span style="--0:#A6D189;--1:#2D711E">"key_x"</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"up"</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"key_w"</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"space"</span><span style="--0:#C6D0F5;--1:#4C4F69">]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">  </span></span><span style="--0:#C6D0F5;--1:#4C4F69">mouse </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> [</span><span style="--0:#A6D189;--1:#2D711E">"left"</span><span style="--0:#C6D0F5;--1:#4C4F69">]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">  </span></span><span style="--0:#C6D0F5;--1:#4C4F69">gamepad </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> [</span><span style="--0:#EF9F76;--1:#AB4307">0</span><span style="--0:#C6D0F5;--1:#4C4F69">]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#949CBB;--1:#616373">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="jump = {  keys = [&#x22;key_x&#x22;, &#x22;up&#x22;, &#x22;key_w&#x22;, &#x22;space&#x22;]  mouse = [&#x22;left&#x22;]  gamepad = [0]}"><div></div></button></div></figure></div>
<p>If we query this instead of the individual key, any of those inputs will trigger the event.
Since these are named events we refer to them by a string value, “jump”, but using strings all over
our project can lead to code that can be difficult to change.</p>
<p>Instead, what we’ll do is make an enum-like class that makes our code easier to use, and gives us code completion and errors if we spell it wrong. The pattern is a static function that returns a string, so we’ll make one called <code dir="auto">In</code> and a function called <code dir="auto">jump</code>, so we can use <code dir="auto">In.jump</code> to refer to the event name.</p>
<p><img src="/_astro/input.1.D_Sx4-JD_ZhcKzC.webp" alt loading="lazy" decoding="async" fetchpriority="auto" width="347" height="133"></p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line highlight ins"><div class="code"><span style="--0:#cfa8e9;--1:#6429af">class</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#E5C890;--0fs:italic;--1:#6a440e;--1fs:italic">In</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#b0b6cd;--1:#4a4c58">{</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">  </span><span style="--0:#cfa8e9;--1:#6429af">static</span><span style="--0:#C6D0F5;--1:#474a62"> jump </span><span style="--0:#b0b6cd;--1:#4a4c58">{</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#A6D189;--1:#235817">"jump"</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#b0b6cd;--1:#4a4c58">}</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#b0b6cd;--1:#4a4c58">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">class</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">Game</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">is</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">Ready</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code"><span style="--0:#81C8BE;--1:#116E73">...</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="class In {  static jump { &#x22;jump&#x22; }}class Game is Ready {..."><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h2"><h2 id="implementing-jump">Implementing jump</h2><a class="sl-anchor-link" href="#implementing-jump"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Implementing jump”</span></a></div>
<p>Now inside our game class in <code dir="auto">game.wren</code>, we’ll add a jump function to make the bee jump.</p>
<p><strong>We call this inside the tick function</strong>.</p>
<p>To do that, we’ll get the current bee velocity, add to it, and then re-apply it. We’ll also set the x (horizontal) velocity to 0, because we never want the bee to move horizontally in this game.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line highlight ins"><div class="code"><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">jump</span><span style="--0:#C6D0F5;--1:#474a62">() </span><span style="--0:#b0b6cd;--1:#4a4c58">{</span></div></div><div class="ec-line highlight ins"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">  </span><span style="--0:#cfa8e9;--1:#6429af">var</span><span style="--0:#C6D0F5;--1:#474a62"> velocity </span><span style="--0:#81C8BE;--1:#0d5458">=</span><span style="--0:#C6D0F5;--1:#474a62"> Arcade</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">get_vel</span><span style="--0:#C6D0F5;--1:#474a62">(player)</span></div></div><div class="ec-line highlight ins"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">  </span></span><span style="--0:#C6D0F5">velocity</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#C6D0F5;--1:#474a62">x </span><span style="--0:#81C8BE;--1:#0d5458">=</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#f0a57f;--1:#833305">0</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">  </span></span><span style="--0:#C6D0F5">velocity</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#C6D0F5;--1:#474a62">y </span><span style="--0:#81C8BE;--1:#0d5458">=</span><span style="--0:#C6D0F5;--1:#474a62"> velocity</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#C6D0F5;--1:#474a62">y </span><span style="--0:#81C8BE;--1:#0d5458">+</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#f0a57f;--1:#833305">150</span></div></div><div class="ec-line highlight ins"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">  </span></span><span style="--0:#C6D0F5">Arcade</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">set_vel</span><span style="--0:#C6D0F5;--1:#474a62">(player</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> velocity)</span></div></div><div class="ec-line highlight ins"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#b0b6cd;--1:#4a4c58">}</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#b0b6cd;--0fs:italic;--1:#4a4c58;--1fs:italic">//jump</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">tick</span><span style="--0:#C6D0F5;--1:#4C4F69">(delta: Num) </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">  </span><span style="--0:#cfa8e9;--1:#6429af">if</span><span style="--0:#C6D0F5;--1:#474a62">(Input</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">event_began</span><span style="--0:#C6D0F5;--1:#474a62">(In</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#C6D0F5;--1:#474a62">jump)) </span><span style="--0:#b0b6cd;--1:#4a4c58">{</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">    </span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">jump</span><span style="--0:#C6D0F5;--1:#474a62">()</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">  </span><span style="--0:#b0b6cd;--1:#4a4c58">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#81C8BE;--1:#116E73">...</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="jump() {  var velocity = Arcade.get_vel(player)  velocity.x = 0  velocity.y = velocity.y + 150  Arcade.set_vel(player, velocity)} //jumptick(delta: Num) {  if(Input.event_began(In.jump)) {    jump()  }..."><div></div></button></div></figure></div>
<p>Now when we run the game and press <starlight-kbd class="astro-3t7w3qeg"> <span data-sl-kbd-type="default" data-sl-kbd-active class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">Up Arrow</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">Up</kbd></kbd>  </span><span data-sl-kbd-type="windows" class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">Up Arrow</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">Up</kbd></kbd>  </span><span data-sl-kbd-type="mac" class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">Up Arrow</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">Up</kbd></kbd>  </span> <starlight-kbd-restore class="astro-3t7w3qeg"></starlight-kbd-restore> </starlight-kbd> /<starlight-kbd class="astro-3t7w3qeg"> <span data-sl-kbd-type="default" data-sl-kbd-active class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">W</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">W</kbd></kbd>  </span><span data-sl-kbd-type="windows" class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">W</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">W</kbd></kbd>  </span><span data-sl-kbd-type="mac" class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">W</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">W</kbd></kbd>  </span> <starlight-kbd-restore class="astro-3t7w3qeg"></starlight-kbd-restore> </starlight-kbd> /<starlight-kbd class="astro-3t7w3qeg"> <span data-sl-kbd-type="default" data-sl-kbd-active class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">X</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">X</kbd></kbd>  </span><span data-sl-kbd-type="windows" class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">X</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">X</kbd></kbd>  </span><span data-sl-kbd-type="mac" class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">X</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">X</kbd></kbd>  </span> <starlight-kbd-restore class="astro-3t7w3qeg"></starlight-kbd-restore> </starlight-kbd> /<starlight-kbd class="astro-3t7w3qeg"> <span data-sl-kbd-type="default" data-sl-kbd-active class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">Space</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">Space</kbd></kbd>  </span><span data-sl-kbd-type="windows" class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">Space</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">Space</kbd></kbd>  </span><span data-sl-kbd-type="mac" class="astro-3t7w3qeg"> <span class="sr-only astro-3t7w3qeg">Space</span> <kbd aria-hidden="true" class="sl-kbd-chord astro-3t7w3qeg"><kbd class="astro-3t7w3qeg">Space</kbd></kbd>  </span> <starlight-kbd-restore class="astro-3t7w3qeg"></starlight-kbd-restore> </starlight-kbd>  the bee will jump upward.</p>
<video preload="auto" autoplay controls muted playinsline="true" loop style="max-width:100%; width:auto; margin:auto; display:block;"><source src="/video/getting-started/world/arcade.4.mp4" type="video/mp4"/></video>
<div class="sl-heading-wrapper level-h2"><h2 id="player-position-and-speed">Player position and speed</h2><a class="sl-anchor-link" href="#player-position-and-speed"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Player position and speed”</span></a></div>
<p>The bee jump is a little easy to go off screen, so we’ll make a minor change to <code dir="auto">create_player()</code> to give them a max speed, and we’ll also enforce that the bee is always in the same position on screen, about a quarter of the way in.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">create_player</span><span style="--0:#C6D0F5;--1:#4C4F69">() </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#81C8BE;--1:#116E73">...</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">  </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Arcade</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">set_acc</span><span style="--0:#C6D0F5;--1:#4C4F69">(player</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> [</span><span style="--0:#EF9F76;--1:#AB4307">0</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#81C8BE;--1:#116E73">-</span><span style="--0:#EF9F76;--1:#AB4307">200</span><span style="--0:#C6D0F5;--1:#4C4F69">])</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">  </span></span><span style="--0:#C6D0F5">Arcade</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">set_max_speed</span><span style="--0:#C6D0F5;--1:#474a62">(player</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#f0a57f;--1:#833305">150</span><span style="--0:#C6D0F5;--1:#474a62">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">  </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Arcade</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">set_debug_draw_enabled</span><span style="--0:#C6D0F5;--1:#4C4F69">(world</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">true</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#949CBB;--1:#616373">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="create_player() {  ...  Arcade.set_acc(player, [0, -200])  Arcade.set_max_speed(player, 150)  Arcade.set_debug_draw_enabled(world, true)}"><div></div></button></div></figure></div>
<p>Inside <code dir="auto">tick</code>, we’ll set the player position to <code dir="auto">world_width / 4</code> every frame.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">tick</span><span style="--0:#C6D0F5;--1:#4C4F69">(delta: Num) </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">  </span></span><span style="--0:#C6D0F5">Transform</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">set_pos_x</span><span style="--0:#C6D0F5;--1:#474a62">(player</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> world_width </span><span style="--0:#81C8BE;--1:#0d5458">/</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#f0a57f;--1:#833305">4</span><span style="--0:#C6D0F5;--1:#474a62">)</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#81C8BE;--1:#116E73">...</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="tick(delta: Num) {  Transform.set_pos_x(player, world_width / 4)  ..."><div></div></button></div></figure></div>
<p>Now when we play, we have a couple jumps before we leave the screen, and our bee is in a nice place for the game.</p>
<video preload="auto" autoplay controls muted playinsline="true" loop style="max-width:100%; width:auto; margin:auto; display:block;"><source src="/video/getting-started/world/arcade.5.mp4" type="video/mp4"/></video>
<div class="sl-heading-wrapper level-h2"><h2 id="create-a-prototype-instance">Create a Prototype instance</h2><a class="sl-anchor-link" href="#create-a-prototype-instance"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Create a Prototype instance”</span></a></div>
<p>Prototypes are similar to a <code dir="auto">Scene</code>, in that they are a bundle entities, already set up with their modifiers, ready to create!</p>
<aside aria-label="Prototype vs Scene" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM12.38 7.08C12.1365 6.97998 11.8635 6.97998 11.62 7.08C11.4973 7.12759 11.3851 7.19896 11.29 7.29C11.2017 7.3872 11.1306 7.49882 11.08 7.62C11.024 7.73868 10.9966 7.86882 11 8C10.9992 8.13161 11.0245 8.26207 11.0742 8.38391C11.124 8.50574 11.1973 8.61656 11.29 8.71C11.3872 8.79833 11.4988 8.86936 11.62 8.92C11.7715 8.98224 11.936 9.00632 12.099 8.99011C12.2619 8.97391 12.4184 8.91792 12.5547 8.82707C12.691 8.73622 12.8029 8.61328 12.8805 8.46907C12.9582 8.32486 12.9992 8.16378 13 8C12.9963 7.73523 12.8927 7.48163 12.71 7.29C12.6149 7.19896 12.5028 7.12759 12.38 7.08ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z"></path></svg>Prototype vs Scene</p><div class="starlight-aside__content"><p>Prototypes are not limited to one per world like scenes. You can create many <strong>instances</strong> of the same prototype in the world.</p><p>They can be created from code, like we will below, or they can be placed inside a scene. They can also be placed inside of other prototypes! Each instance can have the values from the prototype overridden when placed that way, making it unique.</p></div></aside>
<p>Our project includes a pillar ready to go as <code dir="auto">prototype/pillar.0</code> (we’ll make more with the luxe editor in the next tutorial).</p>
<p>We’ll create a <code dir="auto">create_pillar</code> function, and we’ll call it right after creating the player.
To create a prototype we use <code dir="auto">Prototype.create</code> and <code dir="auto">Asset.prototype</code> similarly. This returns a single entity,
which allows us to move or manage the whole bundle of things it created as a single unit.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#81C8BE;--1:#116E73">...</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">create_player</span><span style="--0:#C6D0F5;--1:#4C4F69">()</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">  </span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">create_pillar</span><span style="--0:#C6D0F5;--1:#474a62">()</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C6D0F5;--1:#4C4F69">} </span><span style="--0:#949CBB;--0fs:italic;--1:#616373;--1fs:italic">//ready</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">create_pillar</span><span style="--0:#C6D0F5;--1:#474a62">() </span><span style="--0:#b0b6cd;--1:#4a4c58">{</span></div></div><div class="ec-line highlight ins"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">  </span><span style="--0:#cfa8e9;--1:#6429af">var</span><span style="--0:#C6D0F5;--1:#474a62"> pillar </span><span style="--0:#81C8BE;--1:#0d5458">=</span><span style="--0:#C6D0F5;--1:#474a62"> Prototype</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">create</span><span style="--0:#C6D0F5;--1:#474a62">(world</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#E5C890;--0fs:italic;--1:#6a440e;--1fs:italic">Asset</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">prototype</span><span style="--0:#C6D0F5;--1:#474a62">(</span><span style="--0:#A6D189;--1:#235817">"prototype/pillar.0"</span><span style="--0:#C6D0F5;--1:#474a62">))</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">  </span></span><span style="--0:#C6D0F5">Transform</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">set_scale</span><span style="--0:#C6D0F5;--1:#474a62">(pillar</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#f0a57f;--1:#833305">0.4</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#f0a57f;--1:#833305">0.4</span><span style="--0:#C6D0F5;--1:#474a62">)</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">  </span></span><span style="--0:#C6D0F5">Transform</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">set_pos</span><span style="--0:#C6D0F5;--1:#474a62">(pillar</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> world_width </span><span style="--0:#81C8BE;--1:#0d5458">/</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#f0a57f;--1:#833305">2</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> random</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">int</span><span style="--0:#C6D0F5;--1:#474a62">(</span><span style="--0:#f0a57f;--1:#833305">15</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#f0a57f;--1:#833305">170</span><span style="--0:#C6D0F5;--1:#474a62">))</span></div></div><div class="ec-line highlight ins"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#b0b6cd;--1:#4a4c58">}</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#b0b6cd;--0fs:italic;--1:#4a4c58;--1fs:italic">//create_pillar</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="  ...  create_player()  create_pillar()} //readycreate_pillar() {  var pillar = Prototype.create(world, Asset.prototype(&#x22;prototype/pillar.0&#x22;))  Transform.set_scale(pillar, 0.4, 0.4)  Transform.set_pos(pillar, world_width / 2, random.int(15, 170))} //create_pillar"><div></div></button></div></figure></div>
<p>With that, you should see a pillar spawned in the center of the world.</p>
<p><img src="/_astro/prototype.D-wF-rTr_Zv2OW0.webp" alt loading="lazy" decoding="async" fetchpriority="auto" width="962" height="672"></p>
<div class="sl-heading-wrapper level-h2"><h2 id="creating-a-custom-modifier">Creating a custom modifier</h2><a class="sl-anchor-link" href="#creating-a-custom-modifier"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Creating a custom modifier”</span></a></div>
<p>The next step is to move the pillars across the screen, so the player will have to jump over them.</p>
<p>To do that, we want to make a modifier that will move any pillar that it is attached to, and when the pillar moves off the left of the screen, clean itself up.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="system-folder-convention"><code dir="auto">system/</code> folder convention</h3><a class="sl-anchor-link" href="#system-folder-convention"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “system/ folder convention”</span></a></div>
<p>The convention for modifiers is to be in a folder called <code dir="auto">system/</code>.
Each modifier is a <code dir="auto">wren</code> file with a <code dir="auto">.modifier.wren</code> extension. The <code dir="auto">.modifier.</code> part is what luxe calls a ‘subtype’. You’ll see that on most assets!</p>
<aside aria-label="Do this" class="starlight-aside starlight-aside--tip"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M3.726 0.261L12 0.261L19.476 0.261Q21.030 0.261 22.206 1.227Q23.382 2.193 23.676 3.663L23.676 3.663Q23.802 3.915 23.802 4.461L23.802 4.461L23.802 19.413Q23.802 21.009 22.815 22.206Q21.828 23.403 20.274 23.613L20.274 23.613Q20.148 23.613 19.875 23.676Q19.602 23.739 19.476 23.739L19.476 23.739L4.650 23.739Q2.676 23.739 1.437 22.521Q0.198 21.303 0.198 19.413L0.198 19.413L0.198 4.587Q0.198 2.907 1.164 1.731Q2.130 0.555 3.726 0.261L3.726 0.261ZM3.726 12.063L3.726 12.063L3.726 19.539Q3.726 20.337 4.650 20.337L4.650 20.337L19.350 20.337Q19.728 20.337 20.001 20.064Q20.274 19.791 20.274 19.413L20.274 19.413L20.274 4.713Q20.148 4.209 19.917 3.999Q19.686 3.789 19.224 3.789L19.224 3.789L4.524 3.789Q4.020 3.789 3.810 3.999Q3.600 4.209 3.600 4.713L3.600 4.713Q3.726 7.065 3.726 12.063ZM6.876 10.341L6.876 10.341Q7.002 10.425 7.212 10.467L7.212 10.467L7.548 10.635Q8.010 10.803 8.913 11.265Q9.816 11.727 10.278 11.937L10.278 11.937Q10.488 12.021 10.530 12.021Q10.572 12.021 10.698 11.937L10.698 11.937L12.420 10.635Q15.066 8.661 16.452 7.737L16.452 7.737Q16.620 7.569 16.914 7.443L16.914 7.443Q17.082 7.401 17.124 7.359L17.124 7.359Q17.418 7.233 17.607 7.464Q17.796 7.695 17.796 7.989L17.796 7.989L17.628 8.241Q17.502 8.451 17.502 8.535L17.502 8.535Q16.830 9.417 15.528 11.307L15.528 11.307L14.226 13.113Q12.672 15.255 11.874 16.263L11.874 16.263Q11.370 17.019 10.698 16.977Q10.026 16.935 9.522 16.137L9.522 16.137L6.498 11.685Q6.204 11.391 6.204 11.265L6.204 11.265Q6.120 10.887 6.309 10.614Q6.498 10.341 6.876 10.341Z"></path></svg>Do this</p><div class="starlight-aside__content"><p>Create a new empty folder called system/ in the project</p></div></aside>
<starlight-file-tree class="not-content astro-p67cqifm" data-pagefind-ignore="true"><ul><li class="file empty"><span class="tree-entry"><span class="">…</span></span></li><li class="directory"><details><summary><span class="tree-entry"><span class=""><span><span class="sr-only">Directory</span><svg width="16" height="16" class="tree-icon" aria-hidden="true" viewBox="0 0 24 24"><path d="M22.073 4.900L22.073 4.900L12.148 4.900L12.148 3.950Q12.148 3.125 11.585 2.563Q11.023 2 10.198 2L10.198 2L0.048 2L0.048 22L23.948 22L23.948 6.850Q23.998 6.025 23.448 5.462Q22.898 4.900 22.073 4.900Z"></path></svg></span>luxe.project/</span></span></summary><ul><li class="file empty"><span class="tree-entry"><span class="">…</span></span></li></ul></details></li><li class="directory"><details><summary><span class="tree-entry"><span class=""><span><span class="sr-only">Directory</span><svg width="16" height="16" class="tree-icon" aria-hidden="true" viewBox="0 0 24 24"><path d="M22.073 4.900L22.073 4.900L12.148 4.900L12.148 3.950Q12.148 3.125 11.585 2.563Q11.023 2 10.198 2L10.198 2L0.048 2L0.048 22L23.948 22L23.948 6.850Q23.998 6.025 23.448 5.462Q22.898 4.900 22.073 4.900Z"></path></svg></span>outline/</span></span></summary><ul><li class="file empty"><span class="tree-entry"><span class="">…</span></span></li></ul></details></li><li class="directory"><details><summary><span class="tree-entry"><span class="highlight"><span><span class="sr-only">Directory</span><svg width="16" height="16" class="tree-icon" aria-hidden="true" viewBox="0 0 24 24"><path d="M22.073 4.900L22.073 4.900L12.148 4.900L12.148 3.950Q12.148 3.125 11.585 2.563Q11.023 2 10.198 2L10.198 2L0.048 2L0.048 22L23.948 22L23.948 6.850Q23.998 6.025 23.448 5.462Q22.898 4.900 22.073 4.900Z"></path></svg></span><strong>system/</strong></span> <span class="comment"> add a new empty folder in the project root</span></span></summary><ul><li class="file empty"><span class="tree-entry"><span class="">…</span></span></li></ul></details></li><li class="file"><span class="tree-entry"><span class=""><span><svg width="16" height="16" class="tree-icon" aria-hidden="true" viewBox="0 0 24 24"><path d="M1.082 16.876L1.082 14.014L22.918 14.014L22.918 16.876L1.082 16.876ZM1.082 9.986L1.082 7.071L13.272 7.071L13.272 9.986L1.082 9.986ZM1.082 3.096L1.082 0.181L22.918 0.181L22.918 3.096L1.082 3.096ZM1.082 23.819L1.082 20.904L17.300 20.904L17.300 23.819L1.082 23.819Z"></path></svg></span>game.wren</span></span></li><li class="file"><span class="tree-entry"><span class=""><span><svg width="16" height="16" class="tree-icon" aria-hidden="true" viewBox="0 0 24 24"><path d="M1.082 16.876L1.082 14.014L22.918 14.014L22.918 16.876L1.082 16.876ZM1.082 9.986L1.082 7.071L13.272 7.071L13.272 9.986L1.082 9.986ZM1.082 3.096L1.082 0.181L22.918 0.181L22.918 3.096L1.082 3.096ZM1.082 23.819L1.082 20.904L17.300 20.904L17.300 23.819L1.082 23.819Z"></path></svg></span>project.luxe</span></span></li></ul></starlight-file-tree> 
<div class="sl-heading-wrapper level-h3"><h3 id="generating-code-for-you">Generating code for you</h3><a class="sl-anchor-link" href="#generating-code-for-you"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Generating code for you”</span></a></div>
<p>When we want to make a new modifier, it’s convenient for the engine to fill in the code to get started.
Luxe will do that for us, if we create a blank file named with the <code dir="auto">.modifier.wren</code> ending it can fill in the blank file for us.</p>
<aside aria-label="Do this" class="starlight-aside starlight-aside--tip"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M3.726 0.261L12 0.261L19.476 0.261Q21.030 0.261 22.206 1.227Q23.382 2.193 23.676 3.663L23.676 3.663Q23.802 3.915 23.802 4.461L23.802 4.461L23.802 19.413Q23.802 21.009 22.815 22.206Q21.828 23.403 20.274 23.613L20.274 23.613Q20.148 23.613 19.875 23.676Q19.602 23.739 19.476 23.739L19.476 23.739L4.650 23.739Q2.676 23.739 1.437 22.521Q0.198 21.303 0.198 19.413L0.198 19.413L0.198 4.587Q0.198 2.907 1.164 1.731Q2.130 0.555 3.726 0.261L3.726 0.261ZM3.726 12.063L3.726 12.063L3.726 19.539Q3.726 20.337 4.650 20.337L4.650 20.337L19.350 20.337Q19.728 20.337 20.001 20.064Q20.274 19.791 20.274 19.413L20.274 19.413L20.274 4.713Q20.148 4.209 19.917 3.999Q19.686 3.789 19.224 3.789L19.224 3.789L4.524 3.789Q4.020 3.789 3.810 3.999Q3.600 4.209 3.600 4.713L3.600 4.713Q3.726 7.065 3.726 12.063ZM6.876 10.341L6.876 10.341Q7.002 10.425 7.212 10.467L7.212 10.467L7.548 10.635Q8.010 10.803 8.913 11.265Q9.816 11.727 10.278 11.937L10.278 11.937Q10.488 12.021 10.530 12.021Q10.572 12.021 10.698 11.937L10.698 11.937L12.420 10.635Q15.066 8.661 16.452 7.737L16.452 7.737Q16.620 7.569 16.914 7.443L16.914 7.443Q17.082 7.401 17.124 7.359L17.124 7.359Q17.418 7.233 17.607 7.464Q17.796 7.695 17.796 7.989L17.796 7.989L17.628 8.241Q17.502 8.451 17.502 8.535L17.502 8.535Q16.830 9.417 15.528 11.307L15.528 11.307L14.226 13.113Q12.672 15.255 11.874 16.263L11.874 16.263Q11.370 17.019 10.698 16.977Q10.026 16.935 9.522 16.137L9.522 16.137L6.498 11.685Q6.204 11.391 6.204 11.265L6.204 11.265Q6.120 10.887 6.309 10.614Q6.498 10.341 6.876 10.341Z"></path></svg>Do this</p><div class="starlight-aside__content"><p>Create an empty file called <code dir="auto">system/pillar.modifier.wren</code> in the project</p></div></aside>
<starlight-file-tree class="not-content astro-p67cqifm" data-pagefind-ignore="true"><ul><li class="file empty"><span class="tree-entry"><span class="">…</span></span></li><li class="directory"><details><summary><span class="tree-entry"><span class=""><span><span class="sr-only">Directory</span><svg width="16" height="16" class="tree-icon" aria-hidden="true" viewBox="0 0 24 24"><path d="M22.073 4.900L22.073 4.900L12.148 4.900L12.148 3.950Q12.148 3.125 11.585 2.563Q11.023 2 10.198 2L10.198 2L0.048 2L0.048 22L23.948 22L23.948 6.850Q23.998 6.025 23.448 5.462Q22.898 4.900 22.073 4.900Z"></path></svg></span>luxe.project/</span></span></summary><ul><li class="file empty"><span class="tree-entry"><span class="">…</span></span></li></ul></details></li><li class="directory"><details><summary><span class="tree-entry"><span class=""><span><span class="sr-only">Directory</span><svg width="16" height="16" class="tree-icon" aria-hidden="true" viewBox="0 0 24 24"><path d="M22.073 4.900L22.073 4.900L12.148 4.900L12.148 3.950Q12.148 3.125 11.585 2.563Q11.023 2 10.198 2L10.198 2L0.048 2L0.048 22L23.948 22L23.948 6.850Q23.998 6.025 23.448 5.462Q22.898 4.900 22.073 4.900Z"></path></svg></span>outline/</span></span></summary><ul><li class="file empty"><span class="tree-entry"><span class="">…</span></span></li></ul></details></li><li class="directory"><details open><summary><span class="tree-entry"><span class=""><span><span class="sr-only">Directory</span><svg width="16" height="16" class="tree-icon" aria-hidden="true" viewBox="0 0 24 24"><path d="M22.073 4.900L22.073 4.900L12.148 4.900L12.148 3.950Q12.148 3.125 11.585 2.563Q11.023 2 10.198 2L10.198 2L0.048 2L0.048 22L23.948 22L23.948 6.850Q23.998 6.025 23.448 5.462Q22.898 4.900 22.073 4.900Z"></path></svg></span>system/
</span></span></summary><ul><li class="file"><span class="tree-entry"><span class="highlight"><span><svg width="16" height="16" class="tree-icon" aria-hidden="true" viewBox="0 0 24 24"><path d="M1.082 16.876L1.082 14.014L22.918 14.014L22.918 16.876L1.082 16.876ZM1.082 9.986L1.082 7.071L13.272 7.071L13.272 9.986L1.082 9.986ZM1.082 3.096L1.082 0.181L22.918 0.181L22.918 3.096L1.082 3.096ZM1.082 23.819L1.082 20.904L17.300 20.904L17.300 23.819L1.082 23.819Z"></path></svg></span><strong>pillar.modifier.wren</strong></span> <span class="comment"> add a new empty file inside the system folder</span></span></li></ul></details></li><li class="file"><span class="tree-entry"><span class=""><span><svg width="16" height="16" class="tree-icon" aria-hidden="true" viewBox="0 0 24 24"><path d="M1.082 16.876L1.082 14.014L22.918 14.014L22.918 16.876L1.082 16.876ZM1.082 9.986L1.082 7.071L13.272 7.071L13.272 9.986L1.082 9.986ZM1.082 3.096L1.082 0.181L22.918 0.181L22.918 3.096L1.082 3.096ZM1.082 23.819L1.082 20.904L17.300 20.904L17.300 23.819L1.082 23.819Z"></path></svg></span>game.wren</span></span></li><li class="file"><span class="tree-entry"><span class=""><span><svg width="16" height="16" class="tree-icon" aria-hidden="true" viewBox="0 0 24 24"><path d="M1.082 16.876L1.082 14.014L22.918 14.014L22.918 16.876L1.082 16.876ZM1.082 9.986L1.082 7.071L13.272 7.071L13.272 9.986L1.082 9.986ZM1.082 3.096L1.082 0.181L22.918 0.181L22.918 3.096L1.082 3.096ZM1.082 23.819L1.082 20.904L17.300 20.904L17.300 23.819L1.082 23.819Z"></path></svg></span>project.luxe</span></span></li></ul></starlight-file-tree> 
<p>At the moment, it will only fill in that file for us <em>when we build</em>.
So <strong>run a build</strong> from the code editor, and watch that file get filled out.</p>
<aside aria-label="Do this" class="starlight-aside starlight-aside--tip"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M3.726 0.261L12 0.261L19.476 0.261Q21.030 0.261 22.206 1.227Q23.382 2.193 23.676 3.663L23.676 3.663Q23.802 3.915 23.802 4.461L23.802 4.461L23.802 19.413Q23.802 21.009 22.815 22.206Q21.828 23.403 20.274 23.613L20.274 23.613Q20.148 23.613 19.875 23.676Q19.602 23.739 19.476 23.739L19.476 23.739L4.650 23.739Q2.676 23.739 1.437 22.521Q0.198 21.303 0.198 19.413L0.198 19.413L0.198 4.587Q0.198 2.907 1.164 1.731Q2.130 0.555 3.726 0.261L3.726 0.261ZM3.726 12.063L3.726 12.063L3.726 19.539Q3.726 20.337 4.650 20.337L4.650 20.337L19.350 20.337Q19.728 20.337 20.001 20.064Q20.274 19.791 20.274 19.413L20.274 19.413L20.274 4.713Q20.148 4.209 19.917 3.999Q19.686 3.789 19.224 3.789L19.224 3.789L4.524 3.789Q4.020 3.789 3.810 3.999Q3.600 4.209 3.600 4.713L3.600 4.713Q3.726 7.065 3.726 12.063ZM6.876 10.341L6.876 10.341Q7.002 10.425 7.212 10.467L7.212 10.467L7.548 10.635Q8.010 10.803 8.913 11.265Q9.816 11.727 10.278 11.937L10.278 11.937Q10.488 12.021 10.530 12.021Q10.572 12.021 10.698 11.937L10.698 11.937L12.420 10.635Q15.066 8.661 16.452 7.737L16.452 7.737Q16.620 7.569 16.914 7.443L16.914 7.443Q17.082 7.401 17.124 7.359L17.124 7.359Q17.418 7.233 17.607 7.464Q17.796 7.695 17.796 7.989L17.796 7.989L17.628 8.241Q17.502 8.451 17.502 8.535L17.502 8.535Q16.830 9.417 15.528 11.307L15.528 11.307L14.226 13.113Q12.672 15.255 11.874 16.263L11.874 16.263Q11.370 17.019 10.698 16.977Q10.026 16.935 9.522 16.137L9.522 16.137L6.498 11.685Q6.204 11.391 6.204 11.265L6.204 11.265Q6.120 10.887 6.309 10.614Q6.498 10.341 6.876 10.341Z"></path></svg>Do this</p><div class="starlight-aside__content"><p>Run the build to fill in the blank file.</p></div></aside>
<div class="sl-heading-wrapper level-h3"><h3 id="update-the-generated-meta-data">Update the generated meta data</h3><a class="sl-anchor-link" href="#update-the-generated-meta-data"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Update the generated meta data”</span></a></div>
<p>Look for the API part of our newly generated code. It has some placeholder details we should change.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#C6D0F5;--1:#4C4F69">#api</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C6D0F5;--1:#4C4F69">#display </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"</span><del><span style="--0:#A6D189;--1:#225517">Empty Modifier</span></del><span style="--0:#A6D189;--1:#2D711E">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C6D0F5;--1:#4C4F69">#desc </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"**</span><del><span style="--0:#A6D189;--1:#225517">A new modifier</span></del><span style="--0:#A6D189;--1:#2D711E">**. </span><del><span style="--0:#A6D189;--1:#225517">You should update this description</span></del><span style="--0:#A6D189;--1:#2D711E">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C6D0F5;--1:#4C4F69">#icon </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"</span><del><span style="--0:#A6D189;--1:#225517">luxe: image/modifier/modifier.svg</span></del><span style="--0:#A6D189;--1:#2D711E">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">class</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><del><span style="--0:#E5C890;--0fs:italic;--1:#68430e;--1fs:italic">EmptyModifier</span></del><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">is</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">API</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#949CBB;--0fs:italic;--1:#616373;--1fs:italic">//add public facing API here</span></div></div><div class="ec-line"><div class="code"><span style="--0:#949CBB;--1:#616373">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="#api#display = &#x22;Empty Modifier&#x22;#desc = &#x22;**A new modifier**. You should update this description&#x22;#icon = &#x22;luxe: image/modifier/modifier.svg&#x22;class EmptyModifier is API {  //add public facing API here}"><div></div></button></div></figure></div>
<p>We can update it to look like this:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#C6D0F5;--1:#4C4F69">#api</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C6D0F5;--1:#4C4F69">#display </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"</span><ins><span style="--0:#A6D189;--1:#235817">Pillar</span></ins><span style="--0:#A6D189;--1:#2D711E">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C6D0F5;--1:#4C4F69">#desc </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"**</span><ins><span style="--0:#A6D189;--1:#235817">A moving pillar</span></ins><span style="--0:#A6D189;--1:#2D711E">**. </span><ins><span style="--0:#A6D189;--1:#235817">Moves the pillar horizontally toward the player, then removes itself when offscreen</span></ins><span style="--0:#A6D189;--1:#2D711E">."</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C6D0F5;--1:#4C4F69">#icon </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"</span><ins><span style="--0:#A6D189;--1:#235817">image/pillar.svg</span></ins><span style="--0:#A6D189;--1:#2D711E">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">class</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><ins><span style="--0:#E5C890;--0fs:italic;--1:#6a440e;--1fs:italic">Pillar</span></ins><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">is</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">API</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="#api#display = &#x22;Pillar&#x22;#desc = &#x22;**A moving pillar**. Moves the pillar horizontally toward the player, then removes itself when offscreen.&#x22;#icon = &#x22;image/pillar.svg&#x22;class Pillar is API {"><div></div></button></div></figure></div>
<aside aria-label="There’s a more detailed guide on custom modifiers here" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM12.38 7.08C12.1365 6.97998 11.8635 6.97998 11.62 7.08C11.4973 7.12759 11.3851 7.19896 11.29 7.29C11.2017 7.3872 11.1306 7.49882 11.08 7.62C11.024 7.73868 10.9966 7.86882 11 8C10.9992 8.13161 11.0245 8.26207 11.0742 8.38391C11.124 8.50574 11.1973 8.61656 11.29 8.71C11.3872 8.79833 11.4988 8.86936 11.62 8.92C11.7715 8.98224 11.936 9.00632 12.099 8.99011C12.2619 8.97391 12.4184 8.91792 12.5547 8.82707C12.691 8.73622 12.8029 8.61328 12.8805 8.46907C12.9582 8.32486 12.9992 8.16378 13 8C12.9963 7.73523 12.8927 7.48163 12.71 7.29C12.6149 7.19896 12.5028 7.12759 12.38 7.08ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z"></path></svg>There’s a more detailed guide on <a href="../../learn/modifiers/custom-modifiers.md">custom modifiers</a> here</p><div class="starlight-aside__content"></div></aside>
<div class="sl-heading-wrapper level-h3"><h3 id="attach-the-modifier">Attach the modifier</h3><a class="sl-anchor-link" href="#attach-the-modifier"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Attach the modifier”</span></a></div>
<p>Now that we have a modifier, we can use it similar to a luxe modifier. We first import it, which we can see is now from the project, not from a module.</p>
<aside aria-label="Do this" class="starlight-aside starlight-aside--tip"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M3.726 0.261L12 0.261L19.476 0.261Q21.030 0.261 22.206 1.227Q23.382 2.193 23.676 3.663L23.676 3.663Q23.802 3.915 23.802 4.461L23.802 4.461L23.802 19.413Q23.802 21.009 22.815 22.206Q21.828 23.403 20.274 23.613L20.274 23.613Q20.148 23.613 19.875 23.676Q19.602 23.739 19.476 23.739L19.476 23.739L4.650 23.739Q2.676 23.739 1.437 22.521Q0.198 21.303 0.198 19.413L0.198 19.413L0.198 4.587Q0.198 2.907 1.164 1.731Q2.130 0.555 3.726 0.261L3.726 0.261ZM3.726 12.063L3.726 12.063L3.726 19.539Q3.726 20.337 4.650 20.337L4.650 20.337L19.350 20.337Q19.728 20.337 20.001 20.064Q20.274 19.791 20.274 19.413L20.274 19.413L20.274 4.713Q20.148 4.209 19.917 3.999Q19.686 3.789 19.224 3.789L19.224 3.789L4.524 3.789Q4.020 3.789 3.810 3.999Q3.600 4.209 3.600 4.713L3.600 4.713Q3.726 7.065 3.726 12.063ZM6.876 10.341L6.876 10.341Q7.002 10.425 7.212 10.467L7.212 10.467L7.548 10.635Q8.010 10.803 8.913 11.265Q9.816 11.727 10.278 11.937L10.278 11.937Q10.488 12.021 10.530 12.021Q10.572 12.021 10.698 11.937L10.698 11.937L12.420 10.635Q15.066 8.661 16.452 7.737L16.452 7.737Q16.620 7.569 16.914 7.443L16.914 7.443Q17.082 7.401 17.124 7.359L17.124 7.359Q17.418 7.233 17.607 7.464Q17.796 7.695 17.796 7.989L17.796 7.989L17.628 8.241Q17.502 8.451 17.502 8.535L17.502 8.535Q16.830 9.417 15.528 11.307L15.528 11.307L14.226 13.113Q12.672 15.255 11.874 16.263L11.874 16.263Q11.370 17.019 10.698 16.977Q10.026 16.935 9.522 16.137L9.522 16.137L6.498 11.685Q6.204 11.391 6.204 11.265L6.204 11.265Q6.120 10.887 6.309 10.614Q6.498 10.341 6.876 10.341Z"></path></svg>Do this</p><div class="starlight-aside__content"><p>Add <code dir="auto">import "system/pillar.modifier" for Pillar</code> at the top of <code dir="auto">game.wren</code>.</p></div></aside>
<p>Now that we have a modifier, we can attach it in the same way that we do for the built in ones.
We’ll also modify our start position for the pillar, by setting it to <code dir="auto">world_width + 128</code> instead.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">import</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"system/pillar.modifier"</span><span style="--0:#C6D0F5;--1:#4C4F69"> for Pillar</span></div></div><div class="ec-line"><div class="code"><span style="--0:#81C8BE;--1:#116E73">...</span></div></div><div class="ec-line"><div class="code"><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">create_pillar</span><span style="--0:#C6D0F5;--1:#4C4F69">() </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#CA9EE6;--1:#8035E0">var</span><span style="--0:#C6D0F5;--1:#4C4F69"> pillar </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> Prototype</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">create</span><span style="--0:#C6D0F5;--1:#4C4F69">(world</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">Asset</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">prototype</span><span style="--0:#C6D0F5;--1:#4C4F69">(</span><span style="--0:#A6D189;--1:#2D711E">"prototype/pillar.0"</span><span style="--0:#C6D0F5;--1:#4C4F69">))</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">  </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Transform</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">set_scale</span><span style="--0:#C6D0F5;--1:#4C4F69">(pillar</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">0.4</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">0.4</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">  </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Transform</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">set_pos</span><span style="--0:#C6D0F5;--1:#4C4F69">(pillar</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><ins><span style="--0:#C6D0F5;--1:#474a62">world_width </span><span style="--0:#81C8BE;--1:#0d5458">+</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#f0a57f;--1:#833305">128</span></ins><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> random</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">int</span><span style="--0:#C6D0F5;--1:#4C4F69">(</span><span style="--0:#EF9F76;--1:#AB4307">15</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">170</span><span style="--0:#C6D0F5;--1:#4C4F69">))</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">  </span></span><span style="--0:#C6D0F5">Pillar</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">create</span><span style="--0:#C6D0F5;--1:#474a62">(pillar)</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#949CBB;--1:#616373">}</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--0fs:italic;--1:#616373;--1fs:italic">//create_pillar</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import &#x22;system/pillar.modifier&#x22; for Pillar...create_pillar() {  var pillar = Prototype.create(world, Asset.prototype(&#x22;prototype/pillar.0&#x22;))  Transform.set_scale(pillar, 0.4, 0.4)  Transform.set_pos(pillar, world_width + 128, random.int(15, 170))  Pillar.create(pillar)} //create_pillar"><div></div></button></div></figure></div>
<p>When you run this, you’ll also see the line in the log because of the code in <code dir="auto">attach</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#C6D0F5;--1:#4C4F69">[system</span><span style="--0:#81C8BE;--1:#116E73">/</span><span style="--0:#C6D0F5;--1:#4C4F69">pillar</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#C6D0F5;--1:#4C4F69">modifier line </span><span style="--0:#EF9F76;--1:#AB4307">29</span><span style="--0:#C6D0F5;--1:#4C4F69">] </span><span style="--0:#81C8BE;--1:#116E73">-</span><span style="--0:#C6D0F5;--1:#4C4F69"> attached to </span><span style="--0:#A6D189;--1:#2D711E">`prototype/pillar.0`</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">`42951770139`</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="[system/pillar.modifier line 29] - attached to &#x60;prototype/pillar.0&#x60; &#x60;42951770139&#x60;"><div></div></button></div></figure></div>
<p>You also won’t see the pillar since we put it off screen! So let’s make it move so we can.</p>
<div class="sl-heading-wrapper level-h2"><h2 id="moving-the-pillars">Moving the pillars</h2><a class="sl-anchor-link" href="#moving-the-pillars"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Moving the pillars”</span></a></div>
<p>Inside our <code dir="auto">pillar.modifier.wren</code> there’s a <code dir="auto">Data</code> class, which was empty at the time.
For our pillar to move, we’ll need a speed value and we can store the speed value in this class.</p>
<p>The data class is <strong>per entity data</strong>, so if we want to store some value for each entity that our modifier is attached to, this is where we can put it.
This means each pillar can choose to move at a different speed, because each entity has it’s own value for speed.</p>
<aside aria-label="Do this" class="starlight-aside starlight-aside--tip"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M3.726 0.261L12 0.261L19.476 0.261Q21.030 0.261 22.206 1.227Q23.382 2.193 23.676 3.663L23.676 3.663Q23.802 3.915 23.802 4.461L23.802 4.461L23.802 19.413Q23.802 21.009 22.815 22.206Q21.828 23.403 20.274 23.613L20.274 23.613Q20.148 23.613 19.875 23.676Q19.602 23.739 19.476 23.739L19.476 23.739L4.650 23.739Q2.676 23.739 1.437 22.521Q0.198 21.303 0.198 19.413L0.198 19.413L0.198 4.587Q0.198 2.907 1.164 1.731Q2.130 0.555 3.726 0.261L3.726 0.261ZM3.726 12.063L3.726 12.063L3.726 19.539Q3.726 20.337 4.650 20.337L4.650 20.337L19.350 20.337Q19.728 20.337 20.001 20.064Q20.274 19.791 20.274 19.413L20.274 19.413L20.274 4.713Q20.148 4.209 19.917 3.999Q19.686 3.789 19.224 3.789L19.224 3.789L4.524 3.789Q4.020 3.789 3.810 3.999Q3.600 4.209 3.600 4.713L3.600 4.713Q3.726 7.065 3.726 12.063ZM6.876 10.341L6.876 10.341Q7.002 10.425 7.212 10.467L7.212 10.467L7.548 10.635Q8.010 10.803 8.913 11.265Q9.816 11.727 10.278 11.937L10.278 11.937Q10.488 12.021 10.530 12.021Q10.572 12.021 10.698 11.937L10.698 11.937L12.420 10.635Q15.066 8.661 16.452 7.737L16.452 7.737Q16.620 7.569 16.914 7.443L16.914 7.443Q17.082 7.401 17.124 7.359L17.124 7.359Q17.418 7.233 17.607 7.464Q17.796 7.695 17.796 7.989L17.796 7.989L17.628 8.241Q17.502 8.451 17.502 8.535L17.502 8.535Q16.830 9.417 15.528 11.307L15.528 11.307L14.226 13.113Q12.672 15.255 11.874 16.263L11.874 16.263Q11.370 17.019 10.698 16.977Q10.026 16.935 9.522 16.137L9.522 16.137L6.498 11.685Q6.204 11.391 6.204 11.265L6.204 11.265Q6.120 10.887 6.309 10.614Q6.498 10.341 6.876 10.341Z"></path></svg>Do this</p><div class="starlight-aside__content"><p>Add a <code dir="auto">speed</code> variable like this with a default value of <code dir="auto">100</code>:</p></div></aside>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">class</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">Data</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">  </span></span><span style="--0:#C6D0F5">var speed</span></span><span style="--0:#81C8BE;--1:#0d5458">:</span><span style="--0:#E5C890;--0fs:italic;--1:#6a440e;--1fs:italic"> Num </span><span style="--0:#81C8BE;--1:#0d5458">=</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#f0a57f;--1:#833305">100</span></div></div><div class="ec-line"><div class="code"><span style="--0:#949CBB;--1:#616373">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="class Data {  var speed: Num = 100}"><div></div></button></div></figure></div>
<aside aria-label="Note" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM12.38 7.08C12.1365 6.97998 11.8635 6.97998 11.62 7.08C11.4973 7.12759 11.3851 7.19896 11.29 7.29C11.2017 7.3872 11.1306 7.49882 11.08 7.62C11.024 7.73868 10.9966 7.86882 11 8C10.9992 8.13161 11.0245 8.26207 11.0742 8.38391C11.124 8.50574 11.1973 8.61656 11.29 8.71C11.3872 8.79833 11.4988 8.86936 11.62 8.92C11.7715 8.98224 11.936 9.00632 12.099 8.99011C12.2619 8.97391 12.4184 8.91792 12.5547 8.82707C12.691 8.73622 12.8029 8.61328 12.8805 8.46907C12.9582 8.32486 12.9992 8.16378 13 8C12.9963 7.73523 12.8927 7.48163 12.71 7.29C12.6149 7.19896 12.5028 7.12759 12.38 7.08ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z"></path></svg>Note</p><div class="starlight-aside__content"><p>This Data class is a special type of class, and isn’t a normal Wren class. You can’t make an instance of it and such.
The fields* require* a type definition, and often have extra tags to configure how the data works.</p></div></aside>
<p>Now we can use the <code dir="auto">tick</code> function of our new modifier, to move our pillar.
Once it goes off screen, we can destroy the pillar so it doesn’t exist when no longer relevant.</p>
<p>Inside the tick function of our modifier, we can use the <code dir="auto">each</code> helper to do something on each instance of our modifier.
This is a lot like a for loop, except we get to do a chunk of code for every entity. It also hands us the <code dir="auto">Data</code> for each unique one!</p>
<aside aria-label="Do this" class="starlight-aside starlight-aside--tip"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M3.726 0.261L12 0.261L19.476 0.261Q21.030 0.261 22.206 1.227Q23.382 2.193 23.676 3.663L23.676 3.663Q23.802 3.915 23.802 4.461L23.802 4.461L23.802 19.413Q23.802 21.009 22.815 22.206Q21.828 23.403 20.274 23.613L20.274 23.613Q20.148 23.613 19.875 23.676Q19.602 23.739 19.476 23.739L19.476 23.739L4.650 23.739Q2.676 23.739 1.437 22.521Q0.198 21.303 0.198 19.413L0.198 19.413L0.198 4.587Q0.198 2.907 1.164 1.731Q2.130 0.555 3.726 0.261L3.726 0.261ZM3.726 12.063L3.726 12.063L3.726 19.539Q3.726 20.337 4.650 20.337L4.650 20.337L19.350 20.337Q19.728 20.337 20.001 20.064Q20.274 19.791 20.274 19.413L20.274 19.413L20.274 4.713Q20.148 4.209 19.917 3.999Q19.686 3.789 19.224 3.789L19.224 3.789L4.524 3.789Q4.020 3.789 3.810 3.999Q3.600 4.209 3.600 4.713L3.600 4.713Q3.726 7.065 3.726 12.063ZM6.876 10.341L6.876 10.341Q7.002 10.425 7.212 10.467L7.212 10.467L7.548 10.635Q8.010 10.803 8.913 11.265Q9.816 11.727 10.278 11.937L10.278 11.937Q10.488 12.021 10.530 12.021Q10.572 12.021 10.698 11.937L10.698 11.937L12.420 10.635Q15.066 8.661 16.452 7.737L16.452 7.737Q16.620 7.569 16.914 7.443L16.914 7.443Q17.082 7.401 17.124 7.359L17.124 7.359Q17.418 7.233 17.607 7.464Q17.796 7.695 17.796 7.989L17.796 7.989L17.628 8.241Q17.502 8.451 17.502 8.535L17.502 8.535Q16.830 9.417 15.528 11.307L15.528 11.307L14.226 13.113Q12.672 15.255 11.874 16.263L11.874 16.263Q11.370 17.019 10.698 16.977Q10.026 16.935 9.522 16.137L9.522 16.137L6.498 11.685Q6.204 11.391 6.204 11.265L6.204 11.265Q6.120 10.887 6.309 10.614Q6.498 10.341 6.876 10.341Z"></path></svg>Do this</p><div class="starlight-aside__content"><p>The each helper is there and commented out, but we’ll uncomment it and add the highlighted lines</p></div></aside>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">tick</span><span style="--0:#C6D0F5;--1:#4C4F69">(delta: Num) </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">  </span></span><span style="--0:#C6D0F5">each </span></span><span style="--0:#b0b6cd;--1:#4a4c58">{</span><span style="--0:#81C8BE;--1:#0d5458">|</span><span style="--0:#C6D0F5;--1:#474a62">entity</span><span style="--0:#b0b6cd;--1:#4a4c58">:</span><span style="--0:#C6D0F5;--1:#474a62"> Entity</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> pillar</span><span style="--0:#b0b6cd;--1:#4a4c58">:</span><span style="--0:#C6D0F5;--1:#474a62"> Data</span><span style="--0:#81C8BE;--1:#0d5458">|</span></div></div><div class="ec-line highlight ins"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">    </span><span style="--0:#cfa8e9;--1:#6429af">var</span><span style="--0:#C6D0F5;--1:#474a62"> x_now </span><span style="--0:#81C8BE;--1:#0d5458">=</span><span style="--0:#C6D0F5;--1:#474a62"> Transform</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">get_pos_x</span><span style="--0:#C6D0F5;--1:#474a62">(entity) </span><span style="--0:#81C8BE;--1:#0d5458">-</span><span style="--0:#C6D0F5;--1:#474a62"> pillar</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#C6D0F5;--1:#474a62">speed </span><span style="--0:#81C8BE;--1:#0d5458">*</span><span style="--0:#C6D0F5;--1:#474a62"> delta</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">    </span></span><span style="--0:#C6D0F5">Transform</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">set_pos_x</span><span style="--0:#C6D0F5;--1:#474a62">(entity</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> x_now)</span></div></div><div class="ec-line highlight ins"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">    </span><span style="--0:#cfa8e9;--1:#6429af">if</span><span style="--0:#C6D0F5;--1:#474a62">(x_now </span><span style="--0:#81C8BE;--1:#0d5458">&#x3C;</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#81C8BE;--1:#0d5458">-</span><span style="--0:#f0a57f;--1:#833305">256</span><span style="--0:#C6D0F5;--1:#474a62">) </span><span style="--0:#b0b6cd;--1:#4a4c58">{</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">      </span></span><span style="--0:#C6D0F5">Frame</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#C6D0F5;--1:#474a62">end </span><span style="--0:#b0b6cd;--1:#4a4c58">{</span><span style="--0:#C6D0F5;--1:#474a62"> Entity</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">destroy</span><span style="--0:#C6D0F5;--1:#474a62">(entity) </span><span style="--0:#b0b6cd;--1:#4a4c58">}</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">    </span><span style="--0:#b0b6cd;--1:#4a4c58">}</span></div></div><div class="ec-line highlight ins"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">  </span><span style="--0:#b0b6cd;--1:#4a4c58">}</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#b0b6cd;--0fs:italic;--1:#4a4c58;--1fs:italic">//each</span></div></div><div class="ec-line"><div class="code"><span style="--0:#949CBB;--1:#616373">}</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--0fs:italic;--1:#616373;--1fs:italic">//tick</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="tick(delta: Num) {  each {|entity: Entity, pillar: Data|    var x_now = Transform.get_pos_x(entity) - pillar.speed * delta    Transform.set_pos_x(entity, x_now)    if(x_now < -256) {      Frame.end { Entity.destroy(entity) }    }  } //each} //tick"><div></div></button></div></figure></div>
<p>So: for every pillar in the world, move it to the side, using it’s own speed. If it goes off screen, we can destroy it.
When the pillar goes off screen, we should see this in the log, because of the code inside <code dir="auto">detach</code>.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#C6D0F5;--1:#4C4F69">[system</span><span style="--0:#81C8BE;--1:#116E73">/</span><span style="--0:#C6D0F5;--1:#4C4F69">pillar</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#C6D0F5;--1:#4C4F69">modifier line </span><span style="--0:#EF9F76;--1:#AB4307">34</span><span style="--0:#C6D0F5;--1:#4C4F69">] </span><span style="--0:#81C8BE;--1:#116E73">-</span><span style="--0:#C6D0F5;--1:#4C4F69"> detached from </span><span style="--0:#A6D189;--1:#2D711E">`prototype/pillar.0`</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">`42951770139`</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="[system/pillar.modifier line 34] - detached from &#x60;prototype/pillar.0&#x60; &#x60;42951770139&#x60;"><div></div></button></div></figure></div>
<aside aria-label="Note" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM12.38 7.08C12.1365 6.97998 11.8635 6.97998 11.62 7.08C11.4973 7.12759 11.3851 7.19896 11.29 7.29C11.2017 7.3872 11.1306 7.49882 11.08 7.62C11.024 7.73868 10.9966 7.86882 11 8C10.9992 8.13161 11.0245 8.26207 11.0742 8.38391C11.124 8.50574 11.1973 8.61656 11.29 8.71C11.3872 8.79833 11.4988 8.86936 11.62 8.92C11.7715 8.98224 11.936 9.00632 12.099 8.99011C12.2619 8.97391 12.4184 8.91792 12.5547 8.82707C12.691 8.73622 12.8029 8.61328 12.8805 8.46907C12.9582 8.32486 12.9992 8.16378 13 8C12.9963 7.73523 12.8927 7.48163 12.71 7.29C12.6149 7.19896 12.5028 7.12759 12.38 7.08ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z"></path></svg>Note</p><div class="starlight-aside__content"><p>The <code dir="auto">Frame.end {}</code> runs a function at the end of the frame. This is a WIP requirement for this <code dir="auto">Entity.destroy</code></p></div></aside>
<video preload="auto" autoplay controls muted playinsline="true" loop style="max-width:100%; width:auto; margin:auto; display:block;"><source src="/video/getting-started/world/modifier.1.mp4" type="video/mp4"/></video>
<div class="sl-heading-wrapper level-h2"><h2 id="more-pillars">More pillars</h2><a class="sl-anchor-link" href="#more-pillars"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “More pillars”</span></a></div>
<aside aria-label="We’re back inside of game.wren" class="starlight-aside starlight-aside--tip"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.43909 8.85483L1.44039 8.85354L4.96668 5.33815C5.30653 4.99386 5.7685 4.79662 6.2524 4.78972L6.26553 4.78963L12.9014 4.78962L13.8479 3.84308C16.9187 0.772319 20.0546 0.770617 21.4678 0.975145C21.8617 1.02914 22.2271 1.21053 22.5083 1.4917C22.7894 1.77284 22.9708 2.13821 23.0248 2.53199C23.2294 3.94517 23.2278 7.08119 20.1569 10.1521L19.2107 11.0983V17.7338L19.2106 17.7469C19.2037 18.2308 19.0067 18.6933 18.6624 19.0331L15.1456 22.5608C14.9095 22.7966 14.6137 22.964 14.29 23.0449C13.9663 23.1259 13.6267 23.1174 13.3074 23.0204C12.9881 22.9235 12.7011 22.7417 12.4771 22.4944C12.2533 22.2473 12.1006 21.9441 12.0355 21.6171L11.1783 17.3417L6.65869 12.822L4.34847 12.3589L2.38351 11.965C2.05664 11.8998 1.75272 11.747 1.50564 11.5232C1.25835 11.2992 1.07653 11.0122 0.979561 10.6929C0.882595 10.3736 0.874125 10.034 0.955057 9.7103C1.03599 9.38659 1.20328 9.09092 1.43909 8.85483ZM6.8186 10.8724L2.94619 10.096L6.32006 6.73268H10.9583L6.8186 10.8724ZM15.2219 5.21703C17.681 2.75787 20.0783 2.75376 21.1124 2.8876C21.2462 3.92172 21.2421 6.31895 18.783 8.77812L12.0728 15.4883L8.51172 11.9272L15.2219 5.21703ZM13.9042 21.0538L13.1279 17.1811L17.2676 13.0414V17.68L13.9042 21.0538Z"></path><path d="M9.31827 18.3446C9.45046 17.8529 9.17864 17.3369 8.68945 17.1724C8.56178 17.1294 8.43145 17.1145 8.30512 17.1243C8.10513 17.1398 7.91519 17.2172 7.76181 17.3434C7.62613 17.455 7.51905 17.6048 7.45893 17.7835C6.97634 19.2186 5.77062 19.9878 4.52406 20.4029C4.08525 20.549 3.6605 20.644 3.29471 20.7053C3.35607 20.3395 3.45098 19.9148 3.59711 19.476C4.01221 18.2294 4.78141 17.0237 6.21648 16.5411C6.39528 16.481 6.54504 16.3739 6.65665 16.2382C6.85126 16.0016 6.92988 15.678 6.84417 15.3647C6.83922 15.3466 6.83373 15.3286 6.82767 15.3106C6.74106 15.053 6.55701 14.8557 6.33037 14.7459C6.10949 14.6389 5.84816 14.615 5.59715 14.6994C5.47743 14.7397 5.36103 14.7831 5.24786 14.8294C3.22626 15.6569 2.2347 17.4173 1.75357 18.8621C1.49662 19.6337 1.36993 20.3554 1.30679 20.8818C1.27505 21.1464 1.25893 21.3654 1.25072 21.5213C1.24662 21.5993 1.24448 21.6618 1.24337 21.7066L1.243 21.7226L1.24235 21.7605L1.2422 21.7771L1.24217 21.7827L1.24217 21.7856C1.24217 22.3221 1.67703 22.7579 2.2137 22.7579L2.2155 22.7579L2.22337 22.7578L2.23956 22.7577C2.25293 22.7575 2.27096 22.7572 2.29338 22.7567C2.33821 22.7555 2.40073 22.7534 2.47876 22.7493C2.63466 22.7411 2.85361 22.725 3.11822 22.6932C3.64462 22.6301 4.36636 22.5034 5.13797 22.2464C6.58274 21.7653 8.3431 20.7738 9.17063 18.7522C9.21696 18.639 9.26037 18.5226 9.30064 18.4029C9.30716 18.3835 9.31304 18.364 9.31827 18.3446Z"></path></svg>We’re back inside of <code dir="auto">game.wren</code></p><div class="starlight-aside__content"></div></aside>
<p>We probably want more than one pillar to come across the level, so we’ll use a tool called <code dir="auto">World.schedule(world, time, fn)</code>.</p>
<p>This calls a function for us every <code dir="auto">time</code> seconds, but the important part is that it is affected by the world rate.</p>
<aside aria-label="Note" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM12.38 7.08C12.1365 6.97998 11.8635 6.97998 11.62 7.08C11.4973 7.12759 11.3851 7.19896 11.29 7.29C11.2017 7.3872 11.1306 7.49882 11.08 7.62C11.024 7.73868 10.9966 7.86882 11 8C10.9992 8.13161 11.0245 8.26207 11.0742 8.38391C11.124 8.50574 11.1973 8.61656 11.29 8.71C11.3872 8.79833 11.4988 8.86936 11.62 8.92C11.7715 8.98224 11.936 9.00632 12.099 8.99011C12.2619 8.97391 12.4184 8.91792 12.5547 8.82707C12.691 8.73622 12.8029 8.61328 12.8805 8.46907C12.9582 8.32486 12.9992 8.16378 13 8C12.9963 7.73523 12.8927 7.48163 12.71 7.29C12.6149 7.19896 12.5028 7.12759 12.38 7.08ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z"></path></svg>Note</p><div class="starlight-aside__content"><p>If we used <code dir="auto">Frame.schedule(time, fn)</code> it would be global, and not world specific. With <code dir="auto">World.schedule</code> we can pause by setting the world rate to 0.</p></div></aside>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#81C8BE;--1:#116E73">...</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#81C8BE;--1:#116E73">...</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--0fs:italic;--1:#616373;--1fs:italic">//existing code</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">create_player</span><span style="--0:#C6D0F5;--1:#4C4F69">()</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">create_pillar</span><span style="--0:#C6D0F5;--1:#4C4F69">()</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">  </span></span><span style="--0:#C6D0F5">World</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">schedule</span><span style="--0:#C6D0F5;--1:#474a62">(world</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#f0a57f;--1:#833305">6</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#f0a57f;--1:#833305">9999</span><span style="--0:#C6D0F5;--1:#474a62">) </span><span style="--0:#b0b6cd;--1:#4a4c58">{</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">    </span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">create_pillar</span><span style="--0:#C6D0F5;--1:#474a62">()</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">  </span><span style="--0:#b0b6cd;--1:#4a4c58">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C6D0F5;--1:#4C4F69">} </span><span style="--0:#949CBB;--0fs:italic;--1:#616373;--1fs:italic">//ready</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="  ...  ... //existing code  create_player()  create_pillar()  World.schedule(world, 6, 9999) {    create_pillar()  }} //ready"><div></div></button></div></figure></div>
<p>And with that change, we now get a constant stream of pillars to jump over! We have one more important thing to do to finish this tutorial.</p>
<p><img src="/_astro/pillars.CEydAr3G_ZhjERk.webp" alt loading="lazy" decoding="async" fetchpriority="auto" width="962" height="672"></p>
<div class="sl-heading-wrapper level-h2"><h2 id="handling-collision">Handling collision</h2><a class="sl-anchor-link" href="#handling-collision"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Handling collision”</span></a></div>
<p>Our last step for this game is handling what happens when you hit something.</p>
<p>If you saw the moving pillar video above, the player goes through the walls and keeps jumping forward because of our code to keep it in the same spot.</p>
<p>Instead what we’ll do is check the direction of the hit, and if you hit a wall (sideways), pause the game world. The direction check is using a math function called the dot product.</p>
<aside aria-label="Dot product as a direction check? What is the dot product…" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM12.38 7.08C12.1365 6.97998 11.8635 6.97998 11.62 7.08C11.4973 7.12759 11.3851 7.19896 11.29 7.29C11.2017 7.3872 11.1306 7.49882 11.08 7.62C11.024 7.73868 10.9966 7.86882 11 8C10.9992 8.13161 11.0245 8.26207 11.0742 8.38391C11.124 8.50574 11.1973 8.61656 11.29 8.71C11.3872 8.79833 11.4988 8.86936 11.62 8.92C11.7715 8.98224 11.936 9.00632 12.099 8.99011C12.2619 8.97391 12.4184 8.91792 12.5547 8.82707C12.691 8.73622 12.8029 8.61328 12.8805 8.46907C12.9582 8.32486 12.9992 8.16378 13 8C12.9963 7.73523 12.8927 7.48163 12.71 7.29C12.6149 7.19896 12.5028 7.12759 12.38 7.08ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z"></path></svg>Dot product as a direction check? What is the dot product…</p><div class="starlight-aside__content"><p>We don’t really have to dig too deep right now, <code dir="auto">Math.dot</code> returns <code dir="auto">&#x3C; 0</code> if something is behind us, and <code dir="auto">> 0</code> if it’s in front. It also tells us just how much it is in front, between 0 and 1. 1 being directly in front, 0 being to the side!</p></div></aside>
<aside aria-label="Do this" class="starlight-aside starlight-aside--tip"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M3.726 0.261L12 0.261L19.476 0.261Q21.030 0.261 22.206 1.227Q23.382 2.193 23.676 3.663L23.676 3.663Q23.802 3.915 23.802 4.461L23.802 4.461L23.802 19.413Q23.802 21.009 22.815 22.206Q21.828 23.403 20.274 23.613L20.274 23.613Q20.148 23.613 19.875 23.676Q19.602 23.739 19.476 23.739L19.476 23.739L4.650 23.739Q2.676 23.739 1.437 22.521Q0.198 21.303 0.198 19.413L0.198 19.413L0.198 4.587Q0.198 2.907 1.164 1.731Q2.130 0.555 3.726 0.261L3.726 0.261ZM3.726 12.063L3.726 12.063L3.726 19.539Q3.726 20.337 4.650 20.337L4.650 20.337L19.350 20.337Q19.728 20.337 20.001 20.064Q20.274 19.791 20.274 19.413L20.274 19.413L20.274 4.713Q20.148 4.209 19.917 3.999Q19.686 3.789 19.224 3.789L19.224 3.789L4.524 3.789Q4.020 3.789 3.810 3.999Q3.600 4.209 3.600 4.713L3.600 4.713Q3.726 7.065 3.726 12.063ZM6.876 10.341L6.876 10.341Q7.002 10.425 7.212 10.467L7.212 10.467L7.548 10.635Q8.010 10.803 8.913 11.265Q9.816 11.727 10.278 11.937L10.278 11.937Q10.488 12.021 10.530 12.021Q10.572 12.021 10.698 11.937L10.698 11.937L12.420 10.635Q15.066 8.661 16.452 7.737L16.452 7.737Q16.620 7.569 16.914 7.443L16.914 7.443Q17.082 7.401 17.124 7.359L17.124 7.359Q17.418 7.233 17.607 7.464Q17.796 7.695 17.796 7.989L17.796 7.989L17.628 8.241Q17.502 8.451 17.502 8.535L17.502 8.535Q16.830 9.417 15.528 11.307L15.528 11.307L14.226 13.113Q12.672 15.255 11.874 16.263L11.874 16.263Q11.370 17.019 10.698 16.977Q10.026 16.935 9.522 16.137L9.522 16.137L6.498 11.685Q6.204 11.391 6.204 11.265L6.204 11.265Q6.120 10.887 6.309 10.614Q6.498 10.341 6.876 10.341Z"></path></svg>Do this</p><div class="starlight-aside__content"><p>Add the following code inside <code dir="auto">ready</code> and after <code dir="auto">ready</code>.</p></div></aside>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#81C8BE;--1:#116E73">...</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">  </span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">handle_collision</span><span style="--0:#C6D0F5;--1:#474a62">()</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C6D0F5;--1:#4C4F69">} </span><span style="--0:#949CBB;--0fs:italic;--1:#616373;--1fs:italic">//ready</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">handle_collision</span><span style="--0:#C6D0F5;--1:#474a62">() </span><span style="--0:#b0b6cd;--1:#4a4c58">{</span></div></div><div class="ec-line highlight ins"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">  </span></span><span style="--0:#C6D0F5">Arcade</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">add_collision_callback</span><span style="--0:#C6D0F5;--1:#474a62">(player) </span><span style="--0:#b0b6cd;--1:#4a4c58">{</span><span style="--0:#81C8BE;--1:#0d5458">|</span><span style="--0:#C6D0F5;--1:#474a62">entity_a</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> entity_b</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> state</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> normal</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> dist</span><span style="--0:#81C8BE;--1:#0d5458">|</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">    </span><span style="--0:#cfa8e9;--1:#6429af">if</span><span style="--0:#C6D0F5;--1:#474a62">(state </span><span style="--0:#81C8BE;--1:#0d5458">!=</span><span style="--0:#C6D0F5;--1:#474a62"> CollisionEvent</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#C6D0F5;--1:#474a62">begin) </span><span style="--0:#cfa8e9;--1:#6429af">return</span></div></div><div class="ec-line highlight ins"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">    </span><span style="--0:#cfa8e9;--1:#6429af">var</span><span style="--0:#C6D0F5;--1:#474a62"> dot </span><span style="--0:#81C8BE;--1:#0d5458">=</span><span style="--0:#C6D0F5;--1:#474a62"> Math</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">dot2D</span><span style="--0:#C6D0F5;--1:#474a62">(normal</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> [</span><span style="--0:#f0a57f;--1:#833305">0</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#f0a57f;--1:#833305">1</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#f0a57f;--1:#833305">0</span><span style="--0:#C6D0F5;--1:#474a62">])</span></div></div><div class="ec-line highlight ins"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">    </span><span style="--0:#cfa8e9;--1:#6429af">if</span><span style="--0:#C6D0F5;--1:#474a62">(dot</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#C6D0F5;--1:#474a62">abs </span><span style="--0:#81C8BE;--1:#0d5458">&#x3C;</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#f0a57f;--1:#833305">0.8</span><span style="--0:#C6D0F5;--1:#474a62">) </span><span style="--0:#b0b6cd;--1:#4a4c58">{</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">      </span></span><span style="--0:#C6D0F5">World</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">set_rate</span><span style="--0:#C6D0F5;--1:#474a62">(world</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#f0a57f;--1:#833305">0</span><span style="--0:#C6D0F5;--1:#474a62">)</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">    </span><span style="--0:#b0b6cd;--1:#4a4c58">}</span></div></div><div class="ec-line highlight ins"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">  </span><span style="--0:#b0b6cd;--1:#4a4c58">}</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#b0b6cd;--0fs:italic;--1:#4a4c58;--1fs:italic">//collision callback</span></div></div><div class="ec-line highlight ins"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#b0b6cd;--1:#4a4c58">}</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#b0b6cd;--0fs:italic;--1:#4a4c58;--1fs:italic">//handle_collision</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="  ...  handle_collision()} //readyhandle_collision() {  Arcade.add_collision_callback(player) {|entity_a, entity_b, state, normal, dist|    if(state != CollisionEvent.begin) return    var dot = Math.dot2D(normal, [0,1,0])    if(dot.abs < 0.8) {      World.set_rate(world, 0)    }  } //collision callback} //handle_collision"><div></div></button></div></figure></div>
<p>You can see here we bounce off the top of things, but when we hit the side wall, we stop.</p>
<video preload="auto" autoplay controls muted playinsline="true" loop style="max-width:100%; width:auto; margin:auto; display:block;"><source src="/video/getting-started/world/collision.1.mp4" type="video/mp4"/></video>
<div class="sl-heading-wrapper level-h2"><h2 id="polishing">Polishing</h2><a class="sl-anchor-link" href="#polishing"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Polishing”</span></a></div>
<p>The collision check is a little abrupt, and isn’t very fun because it’s super precise and you can fail easily.</p>
<p>To make the game a bit more fun, we’ll add some squishy behaviour.</p>
<aside aria-label="Note" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM12.38 7.08C12.1365 6.97998 11.8635 6.97998 11.62 7.08C11.4973 7.12759 11.3851 7.19896 11.29 7.29C11.2017 7.3872 11.1306 7.49882 11.08 7.62C11.024 7.73868 10.9966 7.86882 11 8C10.9992 8.13161 11.0245 8.26207 11.0742 8.38391C11.124 8.50574 11.1973 8.61656 11.29 8.71C11.3872 8.79833 11.4988 8.86936 11.62 8.92C11.7715 8.98224 11.936 9.00632 12.099 8.99011C12.2619 8.97391 12.4184 8.91792 12.5547 8.82707C12.691 8.73622 12.8029 8.61328 12.8805 8.46907C12.9582 8.32486 12.9992 8.16378 13 8C12.9963 7.73523 12.8927 7.48163 12.71 7.29C12.6149 7.19896 12.5028 7.12759 12.38 7.08ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z"></path></svg>Note</p><div class="starlight-aside__content"><p>Often when learning through tutorials, you’ll encounter things we don’t yet fully understand. It’s ok to just copy the code example here to improve the experience!</p></div></aside>
<p>When we hit a collider, we get the height and check the distance. If the distance is less than 32 (half the radius of our bee), we’ve just hit the edge of the collider with the bottom of the bee and we can ignore it.</p>
<p>Another tweak, we’ll <strong>play a bounce animation</strong> when we hit a flower. This also uses the <code dir="auto">Tags</code> modifier, which allows us to tag entities with specific tags and check for them. In this case, our flower entity inside the pillar prototype already has a tag.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">handle_collision</span><span style="--0:#C6D0F5;--1:#4C4F69">() </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">  </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Arcade</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">add_collision_callback</span><span style="--0:#C6D0F5;--1:#4C4F69">(player) </span><span style="--0:#949CBB;--1:#616373">{</span><span style="--0:#81C8BE;--1:#116E73">|</span><span style="--0:#C6D0F5;--1:#4C4F69">entity_a</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> entity_b</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> state</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> normal</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> overlap_dist</span><span style="--0:#81C8BE;--1:#116E73">|</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#CA9EE6;--1:#8035E0">if</span><span style="--0:#C6D0F5;--1:#4C4F69">(state </span><span style="--0:#81C8BE;--1:#116E73">!=</span><span style="--0:#C6D0F5;--1:#4C4F69"> CollisionEvent</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#C6D0F5;--1:#4C4F69">begin) </span><span style="--0:#CA9EE6;--1:#8035E0">return</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#CA9EE6;--1:#8035E0">var</span><span style="--0:#C6D0F5;--1:#4C4F69"> dot </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> Math</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">dot2D</span><span style="--0:#C6D0F5;--1:#4C4F69">(normal</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> [</span><span style="--0:#EF9F76;--1:#AB4307">0</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#EF9F76;--1:#AB4307">1</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#EF9F76;--1:#AB4307">0</span><span style="--0:#C6D0F5;--1:#4C4F69">])</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">    </span><span style="--0:#cfa8e9;--1:#6429af">var</span><span style="--0:#C6D0F5;--1:#474a62"> scale </span><span style="--0:#81C8BE;--1:#0d5458">=</span><span style="--0:#C6D0F5;--1:#474a62"> Transform</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">get_scale_world</span><span style="--0:#C6D0F5;--1:#474a62">(entity_b)</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">    </span><span style="--0:#cfa8e9;--1:#6429af">var</span><span style="--0:#C6D0F5;--1:#474a62"> height </span><span style="--0:#81C8BE;--1:#0d5458">=</span><span style="--0:#C6D0F5;--1:#474a62"> Arcade</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">get_height</span><span style="--0:#C6D0F5;--1:#474a62">(entity_b) </span><span style="--0:#81C8BE;--1:#0d5458">*</span><span style="--0:#C6D0F5;--1:#474a62"> scale</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#C6D0F5;--1:#474a62">y</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">    </span><span style="--0:#cfa8e9;--1:#6429af">var</span><span style="--0:#C6D0F5;--1:#474a62"> top </span><span style="--0:#81C8BE;--1:#0d5458">=</span><span style="--0:#C6D0F5;--1:#474a62"> Transform</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">get_pos_y_world</span><span style="--0:#C6D0F5;--1:#474a62">(entity_b) </span><span style="--0:#81C8BE;--1:#0d5458">+</span><span style="--0:#C6D0F5;--1:#474a62"> (height </span><span style="--0:#81C8BE;--1:#0d5458">*</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#f0a57f;--1:#833305">0.5</span><span style="--0:#C6D0F5;--1:#474a62">)</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">    </span><span style="--0:#cfa8e9;--1:#6429af">var</span><span style="--0:#C6D0F5;--1:#474a62"> dist </span><span style="--0:#81C8BE;--1:#0d5458">=</span><span style="--0:#C6D0F5;--1:#474a62"> (top </span><span style="--0:#81C8BE;--1:#0d5458">-</span><span style="--0:#C6D0F5;--1:#474a62"> (Transform</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">get_pos_y_world</span><span style="--0:#C6D0F5;--1:#474a62">(player) </span><span style="--0:#81C8BE;--1:#0d5458">-</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#f0a57f;--1:#833305">32</span><span style="--0:#C6D0F5;--1:#474a62">))</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#CA9EE6;--1:#8035E0">if</span><span style="--0:#C6D0F5;--1:#4C4F69">(dot</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#C6D0F5;--1:#4C4F69">abs </span><span style="--0:#81C8BE;--1:#116E73">&#x3C;</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">0.8</span><ins><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#81C8BE;--1:#0d5458">&#x26;&#x26;</span><span style="--0:#C6D0F5;--1:#474a62"> dist </span><span style="--0:#81C8BE;--1:#0d5458">></span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#f0a57f;--1:#833305">32</span></ins><span style="--0:#C6D0F5;--1:#4C4F69">) </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">      </span></span><span style="--0:#C6D0F5;--1:#4C4F69">World</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">set_rate</span><span style="--0:#C6D0F5;--1:#4C4F69">(world</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">0</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#949CBB;--1:#616373">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">    </span><span style="--0:#cfa8e9;--1:#6429af">if</span><span style="--0:#C6D0F5;--1:#474a62">(Tags</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">has_tag</span><span style="--0:#C6D0F5;--1:#474a62">(entity_b</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#A6D189;--1:#235817">"flower"</span><span style="--0:#C6D0F5;--1:#474a62">)) </span><span style="--0:#b0b6cd;--1:#4a4c58">{</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">      </span></span><span style="--0:#C6D0F5">Anim</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">play</span><span style="--0:#C6D0F5;--1:#474a62">(entity_b</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#A6D189;--1:#235817">"anim/bounce"</span><span style="--0:#C6D0F5;--1:#474a62">)</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">    </span><span style="--0:#b0b6cd;--1:#4a4c58">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#949CBB;--1:#616373">}</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--0fs:italic;--1:#616373;--1fs:italic">//collision callback</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#949CBB;--1:#616373">}</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--0fs:italic;--1:#616373;--1fs:italic">//handle_collision</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="handle_collision() {  Arcade.add_collision_callback(player) {|entity_a, entity_b, state, normal, overlap_dist|    if(state != CollisionEvent.begin) return    var dot = Math.dot2D(normal, [0,1,0])    var scale = Transform.get_scale_world(entity_b)    var height = Arcade.get_height(entity_b) * scale.y    var top = Transform.get_pos_y_world(entity_b) + (height * 0.5)    var dist = (top - (Transform.get_pos_y_world(player) - 32))    if(dot.abs < 0.8 &#x26;&#x26; dist > 32) {      World.set_rate(world, 0)    }    if(Tags.has_tag(entity_b, &#x22;flower&#x22;)) {      Anim.play(entity_b, &#x22;anim/bounce&#x22;)    }  } //collision callback} //handle_collision"><div></div></button></div></figure></div>
<video preload="auto" autoplay controls muted playinsline="true" loop style="max-width:100%; width:auto; margin:auto; display:block;"><source src="/video/getting-started/world/collision.2.mp4" type="video/mp4"/></video>
<div class="sl-heading-wrapper level-h2"><h2 id="reset">Reset</h2><a class="sl-anchor-link" href="#reset"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Reset”</span></a></div>
<p>One final task is to make it so you can reset the state so you can try again.</p>
<p>We’ll add a <code dir="auto">reset()</code> function, first we reset the player position, and unpause the world.
This is called from tick using a simple key check.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line highlight ins"><div class="code"><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">reset</span><span style="--0:#C6D0F5;--1:#474a62">() </span><span style="--0:#b0b6cd;--1:#4a4c58">{</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">  </span></span><span style="--0:#C6D0F5">Transform</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">set_pos</span><span style="--0:#C6D0F5;--1:#474a62">(player</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> world_width</span><span style="--0:#81C8BE;--1:#0d5458">/</span><span style="--0:#f0a57f;--1:#833305">4</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> world_height</span><span style="--0:#81C8BE;--1:#0d5458">/</span><span style="--0:#f0a57f;--1:#833305">2</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#f0a57f;--1:#833305">0</span><span style="--0:#C6D0F5;--1:#474a62">)</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">  </span></span><span style="--0:#C6D0F5">World</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">set_rate</span><span style="--0:#C6D0F5;--1:#474a62">(world</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#f0a57f;--1:#833305">1</span><span style="--0:#C6D0F5;--1:#474a62">)</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#b0b6cd;--1:#4a4c58">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">tick</span><span style="--0:#C6D0F5;--1:#4C4F69">(delta: Num) </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">  </span><span style="--0:#cfa8e9;--1:#6429af">if</span><span style="--0:#C6D0F5;--1:#474a62">(Input</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">key_state_released</span><span style="--0:#C6D0F5;--1:#474a62">(Key</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#C6D0F5;--1:#474a62">key_r)) </span><span style="--0:#b0b6cd;--1:#4a4c58">{</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">    </span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">reset</span><span style="--0:#C6D0F5;--1:#474a62">()</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">  </span><span style="--0:#b0b6cd;--1:#4a4c58">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#81C8BE;--1:#116E73">...</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="reset() {  Transform.set_pos(player, world_width/4, world_height/2, 0)  World.set_rate(world, 1)}tick(delta: Num) {  if(Input.key_state_released(Key.key_r)) {    reset()  }  ..."><div></div></button></div></figure></div>
<p>Now, our pillars will still be there, so we’ll need to clear them up too!</p>
<aside aria-label="We’re now inside of pillar.modifier.wren" class="starlight-aside starlight-aside--tip"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M12 11a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0v-4a1 1 0 0 0-1-1Zm.38-3.92a1 1 0 0 0-.76 0 1 1 0 0 0-.33.21 1.15 1.15 0 0 0-.21.33 1 1 0 0 0 .21 1.09c.097.088.209.16.33.21A1 1 0 0 0 13 8a1.05 1.05 0 0 0-.29-.71 1 1 0 0 0-.33-.21ZM12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20Zm0 18a8 8 0 1 1 0-16.001A8 8 0 0 1 12 20Z"></path></svg>We’re now inside of <code dir="auto">pillar.modifier.wren</code></p><div class="starlight-aside__content"></div></aside>
<p>We could keep a list of pillars we created, and then clean them up like we did in the draw tutorial…</p>
<p>But the modifer system we created already knows about all of our pillars! It keeps track for us.</p>
<p>Let’s add a public API to our pillar modifier, e.g <code dir="auto">Pillar.reset(world)</code>.</p>
<p>To do this, we’ll add a function to the <code dir="auto">API</code> class in our modifier. This function has access to a helper function called <code dir="auto">system_in</code>, which gives us our system to call into.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">class</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">Pillar</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">is</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">API</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">  </span><span style="--0:#cfa8e9;--1:#6429af">static</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">reset</span><span style="--0:#b0b6cd;--1:#4a4c58">(</span><span style="--0:#eca4a7;--0fs:italic;--1:#8a2932;--1fs:italic">world</span><span style="--0:#81C8BE;--1:#0d5458">:</span><span style="--0:#E5C890;--0fs:italic;--1:#6a440e;--1fs:italic"> World</span><span style="--0:#b0b6cd;--1:#4a4c58">)</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#b0b6cd;--1:#4a4c58">{</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">    </span><span style="--0:#cfa8e9;--1:#6429af">var</span><span style="--0:#C6D0F5;--1:#474a62"> system</span><span style="--0:#81C8BE;--1:#0d5458">:</span><span style="--0:#E5C890;--0fs:italic;--1:#6a440e;--1fs:italic"> System </span><span style="--0:#81C8BE;--1:#0d5458">=</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">system_in</span><span style="--0:#C6D0F5;--1:#474a62">(world)</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">    </span></span><span style="--0:#C6D0F5">system</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">reset</span><span style="--0:#C6D0F5;--1:#474a62">()</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">  </span><span style="--0:#b0b6cd;--1:#4a4c58">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#949CBB;--1:#616373">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="class Pillar is API {  static reset(world: World) {    var system: System = system_in(world)    system.reset()  }}"><div></div></button></div></figure></div>
<p>Now inside of our system, we can add the reset function. This function will simply loop through each pillar, and destroy it.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">class</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">System</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">is</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">Modifier</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#81C8BE;--1:#116E73">...</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">  </span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">reset</span><span style="--0:#b0b6cd;--1:#4a4c58">()</span><span style="--0:#C6D0F5;--1:#474a62"> </span><span style="--0:#b0b6cd;--1:#4a4c58">{</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">    </span></span><span style="--0:#C6D0F5">each </span></span><span style="--0:#b0b6cd;--1:#4a4c58">{</span><span style="--0:#81C8BE;--1:#0d5458">|</span><span style="--0:#C6D0F5;--1:#474a62">entity</span><span style="--0:#b0b6cd;--1:#4a4c58">:</span><span style="--0:#C6D0F5;--1:#474a62"> Entity</span><span style="--0:#b0b6cd;--1:#4a4c58">,</span><span style="--0:#C6D0F5;--1:#474a62"> pillar</span><span style="--0:#b0b6cd;--1:#4a4c58">:</span><span style="--0:#C6D0F5;--1:#474a62"> Data</span><span style="--0:#81C8BE;--1:#0d5458">|</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">      </span></span><span style="--0:#C6D0F5">Frame</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#C6D0F5;--1:#474a62">end </span><span style="--0:#b0b6cd;--1:#4a4c58">{</span><span style="--0:#C6D0F5;--1:#474a62"> Entity</span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">destroy</span><span style="--0:#C6D0F5;--1:#474a62">(entity) </span><span style="--0:#b0b6cd;--1:#4a4c58">}</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">    </span><span style="--0:#b0b6cd;--1:#4a4c58">}</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">  </span><span style="--0:#b0b6cd;--1:#4a4c58">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="class System is Modifier {  ...  reset() {    each {|entity: Entity, pillar: Data|      Frame.end { Entity.destroy(entity) }    }  }"><div></div></button></div></figure></div>
<p>And of course, don’t forget to call it from our reset function:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">reset</span><span style="--0:#C6D0F5;--1:#4C4F69">() </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#474a62"><span class="indent"><span style="--0:#C6D0F5">  </span></span><span style="--0:#C6D0F5">Pillar</span></span><span style="--0:#81C8BE;--1:#0d5458">.</span><span style="--0:#9cb6f0;--0fs:italic;--1:#1546a7;--1fs:italic">reset</span><span style="--0:#C6D0F5;--1:#474a62">(world)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">  </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Transform</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">set_pos</span><span style="--0:#C6D0F5;--1:#4C4F69">(player</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> world_width</span><span style="--0:#81C8BE;--1:#116E73">/</span><span style="--0:#EF9F76;--1:#AB4307">4</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> world_height</span><span style="--0:#81C8BE;--1:#116E73">/</span><span style="--0:#EF9F76;--1:#AB4307">2</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">0</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">  </span></span><span style="--0:#C6D0F5;--1:#4C4F69">World</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">set_rate</span><span style="--0:#C6D0F5;--1:#4C4F69">(world</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">1</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#949CBB;--1:#616373">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="reset() {  Pillar.reset(world)  Transform.set_pos(player, world_width/4, world_height/2, 0)  World.set_rate(world, 1)}"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h2"><h2 id="debug-off">Debug off</h2><a class="sl-anchor-link" href="#debug-off"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Debug off”</span></a></div>
<p>One more tweak, now that we know it is working: turn off the debug drawer! We use a comment to disable the single line of code that set the debug drawing to active.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#949CBB;--0fs:italic;--1:#616373;--1fs:italic">// Arcade.set_debug_draw_enabled(world, true)</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="// Arcade.set_debug_draw_enabled(world, true)"><div></div></button></div></figure></div>
<video preload="auto" autoplay controls muted playinsline="true" loop style="max-width:100%; width:auto; margin:auto; display:block;"><source src="/video/getting-started/world/final.mp4" type="video/mp4"/></video>
<div class="sl-heading-wrapper level-h2"><h2 id="try-this">Try this</h2><a class="sl-anchor-link" href="#try-this"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Try this”</span></a></div>
<article class="card sl-flex astro-v5tidmuc"> <p class="title sl-flex astro-v5tidmuc"> <svg aria-hidden="true" class="icon astro-v5tidmuc astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.333em;"><path d="m17.71 11.29-5-5a1 1 0 0 0-.33-.21 1 1 0 0 0-.76 0 1 1 0 0 0-.33.21l-5 5a1 1 0 0 0 1.42 1.42L11 9.41V17a1 1 0 0 0 2 0V9.41l3.29 3.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42Z"/></svg> <span class="astro-v5tidmuc">Add score</span> </p> <div class="body astro-v5tidmuc"><p>Add a <code dir="auto">score</code> variable to the game class, add <code dir="auto">1</code> to it each time a flower is collected.</p></div> </article> 
<article class="card sl-flex astro-v5tidmuc"> <p class="title sl-flex astro-v5tidmuc"> <svg aria-hidden="true" class="icon astro-v5tidmuc astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.333em;"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.049 8.049 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05Zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27a10.15 10.15 0 0 0 10.14 10.14 9.784 9.784 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32v-.04Z"/></svg> <span class="astro-v5tidmuc">Add game over</span> </p> <div class="body astro-v5tidmuc"><p>Like before, make the experience more complete.</p></div> </article> 
<article class="card sl-flex astro-v5tidmuc"> <p class="title sl-flex astro-v5tidmuc"> <svg aria-hidden="true" class="icon astro-v5tidmuc astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.333em;"><path d="M8.7 10a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-6.27-6.3a1 1 0 0 0-1.42 1.42ZM21 14a1 1 0 0 0-1 1v3.59L15.44 14A1 1 0 0 0 14 15.44L18.59 20H15a1 1 0 0 0 0 2h6a1 1 0 0 0 .38-.08 1 1 0 0 0 .54-.54A1 1 0 0 0 22 21v-6a1 1 0 0 0-1-1Zm.92-11.38a1 1 0 0 0-.54-.54A1 1 0 0 0 21 2h-6a1 1 0 0 0 0 2h3.59L2.29 20.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L20 5.41V9a1 1 0 0 0 2 0V3a1 1 0 0 0-.08-.38Z"/></svg> <span class="astro-v5tidmuc">Experiment with values</span> </p> <div class="body astro-v5tidmuc"><p>Try randomizing pillar speeds, pillar schedule timing, bee velocities and more.</p></div> </article> 
<div class="sl-heading-wrapper level-h2"><h2 id="final-code">Final code</h2><a class="sl-anchor-link" href="#final-code"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Final code”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="gamewren"><code dir="auto">game.wren</code></h3><a class="sl-anchor-link" href="#gamewren"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “game.wren”</span></a></div>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">import</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"luxe: world"</span><span style="--0:#C6D0F5;--1:#4C4F69"> for World</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> Entity</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> Transform</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> Sprite</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> Tags</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> Anim</span></div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">import</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"luxe: draw"</span><span style="--0:#C6D0F5;--1:#4C4F69"> for Draw</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> PathStyle</span></div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">import</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"luxe: render"</span><span style="--0:#C6D0F5;--1:#4C4F69"> for Material</span></div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">import</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"luxe: game"</span><span style="--0:#C6D0F5;--1:#4C4F69"> for Frame</span></div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">import</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"luxe: input"</span><span style="--0:#C6D0F5;--1:#4C4F69"> for Input</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> Key</span></div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">import</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"luxe: assets"</span><span style="--0:#C6D0F5;--1:#4C4F69"> for Assets</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> Strings</span></div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">import</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"luxe: asset"</span><span style="--0:#C6D0F5;--1:#4C4F69"> for Asset</span></div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">import</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"luxe: math"</span><span style="--0:#C6D0F5;--1:#4C4F69"> for Math</span></div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">import</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"luxe: string"</span><span style="--0:#C6D0F5;--1:#4C4F69"> for Str</span></div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">import</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"luxe: io"</span><span style="--0:#C6D0F5;--1:#4C4F69"> for IO</span></div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">import</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"random"</span><span style="--0:#C6D0F5;--1:#4C4F69"> for Random</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">import</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"luxe: world/scene"</span><span style="--0:#C6D0F5;--1:#4C4F69"> for Scene</span></div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">import</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"luxe: world/prototype"</span><span style="--0:#C6D0F5;--1:#4C4F69"> for Prototype</span></div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">import</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"arcade: system/arcade.modifier"</span><span style="--0:#C6D0F5;--1:#4C4F69"> for Arcade</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> CollisionEvent</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> ShapeType</span></div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">import</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"system/pillar.modifier"</span><span style="--0:#C6D0F5;--1:#4C4F69"> for Pillar</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">import</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"outline/ready"</span><span style="--0:#C6D0F5;--1:#4C4F69"> for Ready</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">class</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">In</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#CA9EE6;--1:#8035E0">static</span><span style="--0:#C6D0F5;--1:#4C4F69"> jump </span><span style="--0:#949CBB;--1:#616373">{</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"jump"</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#949CBB;--1:#616373">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">class</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">Game</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">is</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">Ready</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">  </span></span><span style="--0:#C6D0F5;--1:#4C4F69">var random </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> Random</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">new</span><span style="--0:#C6D0F5;--1:#4C4F69">()</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">  </span></span><span style="--0:#C6D0F5;--1:#4C4F69">var draw</span><span style="--0:#81C8BE;--1:#116E73">:</span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic"> Draw </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#CA9EE6;--1:#8035E0">null</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">  </span></span><span style="--0:#C6D0F5;--1:#4C4F69">var player </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> Entity</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#C6D0F5;--1:#4C4F69">none</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">  </span></span><span style="--0:#C6D0F5;--1:#4C4F69">construct </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">ready</span><span style="--0:#949CBB;--1:#616373">()</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#CA9EE6;--1:#8035E0">super</span><span style="--0:#C6D0F5;--1:#4C4F69">(</span><span style="--0:#A6D189;--1:#2D711E">"ready! %(width) x %(height) @ %(scale)x"</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">draw </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> Draw</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">create</span><span style="--0:#C6D0F5;--1:#4C4F69">(World</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">render_set</span><span style="--0:#C6D0F5;--1:#4C4F69">(world))</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Scene</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">create</span><span style="--0:#C6D0F5;--1:#4C4F69">(world</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> Asset</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">scene</span><span style="--0:#C6D0F5;--1:#4C4F69">(</span><span style="--0:#A6D189;--1:#2D711E">"scene/level"</span><span style="--0:#C6D0F5;--1:#4C4F69">))</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">create_player</span><span style="--0:#C6D0F5;--1:#4C4F69">()</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">create_pillar</span><span style="--0:#C6D0F5;--1:#4C4F69">()</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">World</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">schedule</span><span style="--0:#C6D0F5;--1:#4C4F69">(world</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">6</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">9999</span><span style="--0:#C6D0F5;--1:#4C4F69">) </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">create_pillar</span><span style="--0:#C6D0F5;--1:#4C4F69">()</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#949CBB;--1:#616373">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">handle_collision</span><span style="--0:#C6D0F5;--1:#4C4F69">()</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#949CBB;--1:#616373">}</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--0fs:italic;--1:#616373;--1fs:italic">//ready</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">handle_collision</span><span style="--0:#949CBB;--1:#616373">()</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Arcade</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">add_collision_callback</span><span style="--0:#C6D0F5;--1:#4C4F69">(player) </span><span style="--0:#949CBB;--1:#616373">{</span><span style="--0:#81C8BE;--1:#116E73">|</span><span style="--0:#C6D0F5;--1:#4C4F69">entity_a</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> entity_b</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> state</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> normal</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> overlap_dist</span><span style="--0:#81C8BE;--1:#116E73">|</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#CA9EE6;--1:#8035E0">if</span><span style="--0:#C6D0F5;--1:#4C4F69">(state </span><span style="--0:#81C8BE;--1:#116E73">!=</span><span style="--0:#C6D0F5;--1:#4C4F69"> CollisionEvent</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#C6D0F5;--1:#4C4F69">begin) </span><span style="--0:#CA9EE6;--1:#8035E0">return</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#CA9EE6;--1:#8035E0">var</span><span style="--0:#C6D0F5;--1:#4C4F69"> dot </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> Math</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">dot2D</span><span style="--0:#C6D0F5;--1:#4C4F69">(normal</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> [</span><span style="--0:#EF9F76;--1:#AB4307">0</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#EF9F76;--1:#AB4307">1</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#EF9F76;--1:#AB4307">0</span><span style="--0:#C6D0F5;--1:#4C4F69">])</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#CA9EE6;--1:#8035E0">var</span><span style="--0:#C6D0F5;--1:#4C4F69"> scale </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> Transform</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">get_scale_world</span><span style="--0:#C6D0F5;--1:#4C4F69">(entity_b)</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#CA9EE6;--1:#8035E0">var</span><span style="--0:#C6D0F5;--1:#4C4F69"> height </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> Arcade</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">get_height</span><span style="--0:#C6D0F5;--1:#4C4F69">(entity_b) </span><span style="--0:#81C8BE;--1:#116E73">*</span><span style="--0:#C6D0F5;--1:#4C4F69"> scale</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#C6D0F5;--1:#4C4F69">y</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#CA9EE6;--1:#8035E0">var</span><span style="--0:#C6D0F5;--1:#4C4F69"> top </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> Transform</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">get_pos_y_world</span><span style="--0:#C6D0F5;--1:#4C4F69">(entity_b) </span><span style="--0:#81C8BE;--1:#116E73">+</span><span style="--0:#C6D0F5;--1:#4C4F69"> (height </span><span style="--0:#81C8BE;--1:#116E73">*</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">0.5</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#CA9EE6;--1:#8035E0">var</span><span style="--0:#C6D0F5;--1:#4C4F69"> dist </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> (top </span><span style="--0:#81C8BE;--1:#116E73">-</span><span style="--0:#C6D0F5;--1:#4C4F69"> (Transform</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">get_pos_y_world</span><span style="--0:#C6D0F5;--1:#4C4F69">(player) </span><span style="--0:#81C8BE;--1:#116E73">-</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">32</span><span style="--0:#C6D0F5;--1:#4C4F69">))</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#CA9EE6;--1:#8035E0">if</span><span style="--0:#C6D0F5;--1:#4C4F69">(dot</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#C6D0F5;--1:#4C4F69">abs </span><span style="--0:#81C8BE;--1:#116E73">&#x3C;</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">0.8</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#81C8BE;--1:#116E73">&#x26;&#x26;</span><span style="--0:#C6D0F5;--1:#4C4F69"> dist </span><span style="--0:#81C8BE;--1:#116E73">></span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">32</span><span style="--0:#C6D0F5;--1:#4C4F69">) </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">        </span></span><span style="--0:#C6D0F5;--1:#4C4F69">World</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">set_rate</span><span style="--0:#C6D0F5;--1:#4C4F69">(world</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">0</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#949CBB;--1:#616373">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#CA9EE6;--1:#8035E0">if</span><span style="--0:#C6D0F5;--1:#4C4F69">(Tags</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">has_tag</span><span style="--0:#C6D0F5;--1:#4C4F69">(entity_b</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"flower"</span><span style="--0:#C6D0F5;--1:#4C4F69">)) </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">        </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Anim</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">play</span><span style="--0:#C6D0F5;--1:#4C4F69">(entity_b</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"anim/bounce"</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#949CBB;--1:#616373">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#949CBB;--1:#616373">}</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--0fs:italic;--1:#616373;--1fs:italic">//collision callback</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#949CBB;--1:#616373">}</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--0fs:italic;--1:#616373;--1fs:italic">//handle_collision</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">create_player</span><span style="--0:#949CBB;--1:#616373">()</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">player </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> Entity</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">create</span><span style="--0:#C6D0F5;--1:#4C4F69">(world</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"player"</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Transform</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">create</span><span style="--0:#C6D0F5;--1:#4C4F69">(player</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> world_width</span><span style="--0:#81C8BE;--1:#116E73">/</span><span style="--0:#EF9F76;--1:#AB4307">2</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> world_height</span><span style="--0:#81C8BE;--1:#116E73">/</span><span style="--0:#EF9F76;--1:#AB4307">2</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Sprite</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">create</span><span style="--0:#C6D0F5;--1:#4C4F69">(player</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> Assets</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">image</span><span style="--0:#C6D0F5;--1:#4C4F69">(</span><span style="--0:#A6D189;--1:#2D711E">"image/bee"</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">64</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">64</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Arcade</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">create</span><span style="--0:#C6D0F5;--1:#4C4F69">(player)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Arcade</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">set_shape_type</span><span style="--0:#C6D0F5;--1:#4C4F69">(player</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> ShapeType</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#C6D0F5;--1:#4C4F69">circle)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Arcade</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">set_radius</span><span style="--0:#C6D0F5;--1:#4C4F69">(player</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">32</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Arcade</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">set_acc</span><span style="--0:#C6D0F5;--1:#4C4F69">(player</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> [</span><span style="--0:#EF9F76;--1:#AB4307">0</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#81C8BE;--1:#116E73">-</span><span style="--0:#EF9F76;--1:#AB4307">200</span><span style="--0:#C6D0F5;--1:#4C4F69">])</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Arcade</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">set_max_speed</span><span style="--0:#C6D0F5;--1:#4C4F69">(player</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">150</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#949CBB;--0fs:italic;--1:#616373;--1fs:italic">// Arcade.set_debug_draw_enabled(world, true)</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#949CBB;--1:#616373">}</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--0fs:italic;--1:#616373;--1fs:italic">//create_player</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">create_pillar</span><span style="--0:#949CBB;--1:#616373">()</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#CA9EE6;--1:#8035E0">var</span><span style="--0:#C6D0F5;--1:#4C4F69"> pillar </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> Prototype</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">create</span><span style="--0:#C6D0F5;--1:#4C4F69">(world</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">Asset</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">prototype</span><span style="--0:#C6D0F5;--1:#4C4F69">(</span><span style="--0:#A6D189;--1:#2D711E">"prototype/pillar.0"</span><span style="--0:#C6D0F5;--1:#4C4F69">))</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Transform</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">set_scale</span><span style="--0:#C6D0F5;--1:#4C4F69">(pillar</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">0.4</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">0.4</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Transform</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">set_pos</span><span style="--0:#C6D0F5;--1:#4C4F69">(pillar</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> world_width </span><span style="--0:#81C8BE;--1:#116E73">+</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">128</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> random</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">int</span><span style="--0:#C6D0F5;--1:#4C4F69">(</span><span style="--0:#EF9F76;--1:#AB4307">15</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">170</span><span style="--0:#C6D0F5;--1:#4C4F69">))</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Pillar</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">create</span><span style="--0:#C6D0F5;--1:#4C4F69">(pillar)</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#949CBB;--1:#616373">}</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--0fs:italic;--1:#616373;--1fs:italic">//create_pillar</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">jump</span><span style="--0:#949CBB;--1:#616373">()</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#CA9EE6;--1:#8035E0">var</span><span style="--0:#C6D0F5;--1:#4C4F69"> velocity </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> Arcade</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">get_vel</span><span style="--0:#C6D0F5;--1:#4C4F69">(player)</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">velocity</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#C6D0F5;--1:#4C4F69">x </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">0</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">velocity</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#C6D0F5;--1:#4C4F69">y </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> velocity</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#C6D0F5;--1:#4C4F69">y </span><span style="--0:#81C8BE;--1:#116E73">+</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">150</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Arcade</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">set_vel</span><span style="--0:#C6D0F5;--1:#4C4F69">(player</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> velocity)</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#949CBB;--1:#616373">}</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--0fs:italic;--1:#616373;--1fs:italic">//jump</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">reset</span><span style="--0:#949CBB;--1:#616373">()</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Pillar</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">reset</span><span style="--0:#C6D0F5;--1:#4C4F69">(world)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Transform</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">set_pos</span><span style="--0:#C6D0F5;--1:#4C4F69">(player</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> world_width</span><span style="--0:#81C8BE;--1:#116E73">/</span><span style="--0:#EF9F76;--1:#AB4307">4</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> world_height</span><span style="--0:#81C8BE;--1:#116E73">/</span><span style="--0:#EF9F76;--1:#AB4307">2</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">0</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">World</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">set_rate</span><span style="--0:#C6D0F5;--1:#4C4F69">(world</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">1</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#949CBB;--1:#616373">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">tick</span><span style="--0:#949CBB;--1:#616373">(</span><span style="--0:#EA999C;--0fs:italic;--1:#B43641;--1fs:italic">delta</span><span style="--0:#81C8BE;--1:#116E73">:</span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic"> Num</span><span style="--0:#949CBB;--1:#616373">)</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#CA9EE6;--1:#8035E0">if</span><span style="--0:#C6D0F5;--1:#4C4F69">(Input</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">key_state_released</span><span style="--0:#C6D0F5;--1:#4C4F69">(Key</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#C6D0F5;--1:#4C4F69">key_r)) </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">reset</span><span style="--0:#C6D0F5;--1:#4C4F69">()</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#949CBB;--1:#616373">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Transform</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">set_pos_x</span><span style="--0:#C6D0F5;--1:#4C4F69">(player</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> world_width </span><span style="--0:#81C8BE;--1:#116E73">/</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">4</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#CA9EE6;--1:#8035E0">if</span><span style="--0:#C6D0F5;--1:#4C4F69">(Input</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">event_began</span><span style="--0:#C6D0F5;--1:#4C4F69">(In</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#C6D0F5;--1:#4C4F69">jump)) </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">jump</span><span style="--0:#C6D0F5;--1:#4C4F69">()</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#949CBB;--1:#616373">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#CA9EE6;--1:#8035E0">if</span><span style="--0:#C6D0F5;--1:#4C4F69">(Input</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">key_state_released</span><span style="--0:#C6D0F5;--1:#4C4F69">(Key</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#C6D0F5;--1:#4C4F69">escape)) </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#EF9F76;--1:#AB4307">IO</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">shutdown</span><span style="--0:#C6D0F5;--1:#4C4F69">()</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#949CBB;--1:#616373">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#949CBB;--1:#616373">}</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--0fs:italic;--1:#616373;--1fs:italic">//tick</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#949CBB;--1:#616373">}</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--0fs:italic;--1:#616373;--1fs:italic">//Game</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import &#x22;luxe: world&#x22; for World, Entity, Transform, Sprite, Tags, Animimport &#x22;luxe: draw&#x22; for Draw, PathStyleimport &#x22;luxe: render&#x22; for Materialimport &#x22;luxe: game&#x22; for Frameimport &#x22;luxe: input&#x22; for Input, Keyimport &#x22;luxe: assets&#x22; for Assets, Stringsimport &#x22;luxe: asset&#x22; for Assetimport &#x22;luxe: math&#x22; for Mathimport &#x22;luxe: string&#x22; for Strimport &#x22;luxe: io&#x22; for IOimport &#x22;random&#x22; for Randomimport &#x22;luxe: world/scene&#x22; for Sceneimport &#x22;luxe: world/prototype&#x22; for Prototypeimport &#x22;arcade: system/arcade.modifier&#x22; for Arcade, CollisionEvent, ShapeTypeimport &#x22;system/pillar.modifier&#x22; for Pillarimport &#x22;outline/ready&#x22; for Readyclass In {  static jump { &#x22;jump&#x22; }}class Game is Ready {  var random = Random.new()  var draw: Draw = null  var player = Entity.none  construct ready() {    super(&#x22;ready! %(width) x %(height) @ %(scale)x&#x22;)    draw = Draw.create(World.render_set(world))    Scene.create(world, Asset.scene(&#x22;scene/level&#x22;))    create_player()    create_pillar()    World.schedule(world, 6, 9999) {      create_pillar()    }    handle_collision()  } //ready  handle_collision() {    Arcade.add_collision_callback(player) {|entity_a, entity_b, state, normal, overlap_dist|      if(state != CollisionEvent.begin) return      var dot = Math.dot2D(normal, [0,1,0])      var scale = Transform.get_scale_world(entity_b)      var height = Arcade.get_height(entity_b) * scale.y      var top = Transform.get_pos_y_world(entity_b) + (height * 0.5)      var dist = (top - (Transform.get_pos_y_world(player) - 32))      if(dot.abs < 0.8 &#x26;&#x26; dist > 32) {        World.set_rate(world, 0)      }      if(Tags.has_tag(entity_b, &#x22;flower&#x22;)) {        Anim.play(entity_b, &#x22;anim/bounce&#x22;)      }    } //collision callback  } //handle_collision  create_player() {    player = Entity.create(world, &#x22;player&#x22;)    Transform.create(player, world_width/2, world_height/2)    Sprite.create(player, Assets.image(&#x22;image/bee&#x22;), 64, 64)    Arcade.create(player)    Arcade.set_shape_type(player, ShapeType.circle)    Arcade.set_radius(player, 32)    Arcade.set_acc(player, [0, -200])    Arcade.set_max_speed(player, 150)    // Arcade.set_debug_draw_enabled(world, true)  } //create_player  create_pillar() {    var pillar = Prototype.create(world, Asset.prototype(&#x22;prototype/pillar.0&#x22;))    Transform.set_scale(pillar, 0.4, 0.4)    Transform.set_pos(pillar, world_width + 128, random.int(15, 170))    Pillar.create(pillar)  } //create_pillar  jump() {    var velocity = Arcade.get_vel(player)    velocity.x = 0    velocity.y = velocity.y + 150    Arcade.set_vel(player, velocity)  } //jump  reset() {    Pillar.reset(world)    Transform.set_pos(player, world_width/4, world_height/2, 0)    World.set_rate(world, 1)  }  tick(delta: Num) {    if(Input.key_state_released(Key.key_r)) {      reset()    }    Transform.set_pos_x(player, world_width / 4)    if(Input.event_began(In.jump)) {      jump()    }    if(Input.key_state_released(Key.escape)) {      IO.shutdown()    }  } //tick} //Game"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="systempillarmodifierwren"><code dir="auto">system/pillar.modifier.wren</code></h3><a class="sl-anchor-link" href="#systempillarmodifierwren"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “system/pillar.modifier.wren”</span></a></div>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">import</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"system/pillar.modifier.api"</span><span style="--0:#C6D0F5;--1:#4C4F69"> for API</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> Modifier</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> APIGet</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> APISet</span></div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">import</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"luxe: world"</span><span style="--0:#C6D0F5;--1:#4C4F69"> for Entity</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> Transform</span></div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">import</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"luxe: render"</span><span style="--0:#C6D0F5;--1:#4C4F69"> for Render</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> Geometry</span></div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">import</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"luxe.project/asset"</span><span style="--0:#C6D0F5;--1:#4C4F69"> for Asset</span></div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">import</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"luxe: assets"</span><span style="--0:#C6D0F5;--1:#4C4F69"> for Strings</span></div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">import</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"luxe: game"</span><span style="--0:#C6D0F5;--1:#4C4F69"> for Frame</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C6D0F5;--1:#4C4F69">#block </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> data</span></div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">class</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">Data</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">  </span></span><span style="--0:#C6D0F5;--1:#4C4F69">var speed</span><span style="--0:#81C8BE;--1:#116E73">:</span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic"> Num </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EF9F76;--1:#AB4307">100</span></div></div><div class="ec-line"><div class="code"><span style="--0:#949CBB;--1:#616373">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C6D0F5;--1:#4C4F69">#api</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C6D0F5;--1:#4C4F69">#icon </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"image/pillar.svg"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C6D0F5;--1:#4C4F69">#display </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"Pillar"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C6D0F5;--1:#4C4F69">#desc </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#A6D189;--1:#2D711E">"**A moving pillar**. Moves the pillar horizontally toward the player, then removes itself when offscreen."</span></div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">class</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">Pillar</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">is</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">API</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#CA9EE6;--1:#8035E0">static</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">reset</span><span style="--0:#949CBB;--1:#616373">(</span><span style="--0:#EA999C;--0fs:italic;--1:#B43641;--1fs:italic">world</span><span style="--0:#81C8BE;--1:#116E73">:</span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic"> World</span><span style="--0:#949CBB;--1:#616373">)</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#CA9EE6;--1:#8035E0">var</span><span style="--0:#C6D0F5;--1:#4C4F69"> system</span><span style="--0:#81C8BE;--1:#116E73">:</span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic"> System </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">system_in</span><span style="--0:#C6D0F5;--1:#4C4F69">(world)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">system</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">reset</span><span style="--0:#C6D0F5;--1:#4C4F69">()</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#949CBB;--1:#616373">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#949CBB;--1:#616373">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C6D0F5;--1:#4C4F69">#system</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C6D0F5;--1:#4C4F69">#</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">phase</span><span style="--0:#C6D0F5;--1:#4C4F69">(on</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> tick)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#CA9EE6;--1:#8035E0">class</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">System</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">is</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic">Modifier</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">init</span><span style="--0:#949CBB;--1:#616373">(</span><span style="--0:#EA999C;--0fs:italic;--1:#B43641;--1fs:italic">world</span><span style="--0:#81C8BE;--1:#116E73">:</span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic"> World</span><span style="--0:#949CBB;--1:#616373">)</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Log</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">print</span><span style="--0:#C6D0F5;--1:#4C4F69">(</span><span style="--0:#A6D189;--1:#2D711E">"init `%(This)` in world `%(world)`"</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#949CBB;--1:#616373">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">attach</span><span style="--0:#949CBB;--1:#616373">(</span><span style="--0:#EA999C;--0fs:italic;--1:#B43641;--1fs:italic">entity</span><span style="--0:#81C8BE;--1:#116E73">:</span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic"> Entity</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EA999C;--0fs:italic;--1:#B43641;--1fs:italic">pillar</span><span style="--0:#81C8BE;--1:#116E73">:</span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic"> Data</span><span style="--0:#949CBB;--1:#616373">)</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Log</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">print</span><span style="--0:#C6D0F5;--1:#4C4F69">(</span><span style="--0:#A6D189;--1:#2D711E">"attached to `%(Strings.get(Entity.get_name(entity)))` `%(entity)`"</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#949CBB;--1:#616373">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">detach</span><span style="--0:#949CBB;--1:#616373">(</span><span style="--0:#EA999C;--0fs:italic;--1:#B43641;--1fs:italic">entity</span><span style="--0:#81C8BE;--1:#116E73">:</span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic"> Entity</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#EA999C;--0fs:italic;--1:#B43641;--1fs:italic">pillar</span><span style="--0:#81C8BE;--1:#116E73">:</span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic"> Data</span><span style="--0:#949CBB;--1:#616373">)</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Log</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">print</span><span style="--0:#C6D0F5;--1:#4C4F69">(</span><span style="--0:#A6D189;--1:#2D711E">"detached from `%(Strings.get(Entity.get_name(entity)))` `%(entity)`"</span><span style="--0:#C6D0F5;--1:#4C4F69">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#949CBB;--1:#616373">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">reset</span><span style="--0:#949CBB;--1:#616373">()</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">each </span><span style="--0:#949CBB;--1:#616373">{</span><span style="--0:#81C8BE;--1:#116E73">|</span><span style="--0:#C6D0F5;--1:#4C4F69">entity</span><span style="--0:#949CBB;--1:#616373">:</span><span style="--0:#C6D0F5;--1:#4C4F69"> Entity</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> pillar</span><span style="--0:#949CBB;--1:#616373">:</span><span style="--0:#C6D0F5;--1:#4C4F69"> Data</span><span style="--0:#81C8BE;--1:#116E73">|</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">      </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Frame</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#C6D0F5;--1:#4C4F69">end </span><span style="--0:#949CBB;--1:#616373">{</span><span style="--0:#C6D0F5;--1:#4C4F69"> Entity</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">destroy</span><span style="--0:#C6D0F5;--1:#4C4F69">(entity) </span><span style="--0:#949CBB;--1:#616373">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#949CBB;--1:#616373">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#949CBB;--1:#616373">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">tick</span><span style="--0:#949CBB;--1:#616373">(</span><span style="--0:#EA999C;--0fs:italic;--1:#B43641;--1fs:italic">delta</span><span style="--0:#81C8BE;--1:#116E73">:</span><span style="--0:#E5C890;--0fs:italic;--1:#8B5912;--1fs:italic"> Num</span><span style="--0:#949CBB;--1:#616373">)</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">    </span></span><span style="--0:#C6D0F5;--1:#4C4F69">each </span><span style="--0:#949CBB;--1:#616373">{</span><span style="--0:#81C8BE;--1:#116E73">|</span><span style="--0:#C6D0F5;--1:#4C4F69">entity</span><span style="--0:#949CBB;--1:#616373">:</span><span style="--0:#C6D0F5;--1:#4C4F69"> Entity</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> pillar</span><span style="--0:#949CBB;--1:#616373">:</span><span style="--0:#C6D0F5;--1:#4C4F69"> Data</span><span style="--0:#81C8BE;--1:#116E73">|</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#CA9EE6;--1:#8035E0">var</span><span style="--0:#C6D0F5;--1:#4C4F69"> x_now </span><span style="--0:#81C8BE;--1:#116E73">=</span><span style="--0:#C6D0F5;--1:#4C4F69"> Transform</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">get_pos_x</span><span style="--0:#C6D0F5;--1:#4C4F69">(entity) </span><span style="--0:#81C8BE;--1:#116E73">-</span><span style="--0:#C6D0F5;--1:#4C4F69"> pillar</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#C6D0F5;--1:#4C4F69">speed </span><span style="--0:#81C8BE;--1:#116E73">*</span><span style="--0:#C6D0F5;--1:#4C4F69"> delta</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">      </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Transform</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">set_pos_x</span><span style="--0:#C6D0F5;--1:#4C4F69">(entity</span><span style="--0:#949CBB;--1:#616373">,</span><span style="--0:#C6D0F5;--1:#4C4F69"> x_now)</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#CA9EE6;--1:#8035E0">if</span><span style="--0:#C6D0F5;--1:#4C4F69">(x_now </span><span style="--0:#81C8BE;--1:#116E73">&#x3C;</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#81C8BE;--1:#116E73">-</span><span style="--0:#EF9F76;--1:#AB4307">256</span><span style="--0:#C6D0F5;--1:#4C4F69">) </span><span style="--0:#949CBB;--1:#616373">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C6D0F5;--1:#4C4F69">        </span></span><span style="--0:#C6D0F5;--1:#4C4F69">Frame</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#C6D0F5;--1:#4C4F69">end </span><span style="--0:#949CBB;--1:#616373">{</span><span style="--0:#C6D0F5;--1:#4C4F69"> Entity</span><span style="--0:#81C8BE;--1:#116E73">.</span><span style="--0:#8CAAEE;--0fs:italic;--1:#1B5BDA;--1fs:italic">destroy</span><span style="--0:#C6D0F5;--1:#4C4F69">(entity) </span><span style="--0:#949CBB;--1:#616373">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#949CBB;--1:#616373">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#949CBB;--1:#616373">}</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--0fs:italic;--1:#616373;--1fs:italic">//each</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#949CBB;--1:#616373">}</span><span style="--0:#C6D0F5;--1:#4C4F69"> </span><span style="--0:#949CBB;--0fs:italic;--1:#616373;--1fs:italic">//tick</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#949CBB;--1:#616373">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import &#x22;system/pillar.modifier.api&#x22; for API, Modifier, APIGet, APISetimport &#x22;luxe: world&#x22; for Entity, Transformimport &#x22;luxe: render&#x22; for Render, Geometryimport &#x22;luxe.project/asset&#x22; for Assetimport &#x22;luxe: assets&#x22; for Stringsimport &#x22;luxe: game&#x22; for Frame#block = dataclass Data {  var speed: Num = 100}#api#icon = &#x22;image/pillar.svg&#x22;#display = &#x22;Pillar&#x22;#desc = &#x22;**A moving pillar**. Moves the pillar horizontally toward the player, then removes itself when offscreen.&#x22;class Pillar is API {  static reset(world: World) {    var system: System = system_in(world)    system.reset()  }}#system#phase(on, tick)class System is Modifier {  init(world: World) {    Log.print(&#x22;init &#x60;%(This)&#x60; in world &#x60;%(world)&#x60;&#x22;)  }  attach(entity: Entity, pillar: Data) {    Log.print(&#x22;attached to &#x60;%(Strings.get(Entity.get_name(entity)))&#x60; &#x60;%(entity)&#x60;&#x22;)  }  detach(entity: Entity, pillar: Data) {    Log.print(&#x22;detached from &#x60;%(Strings.get(Entity.get_name(entity)))&#x60; &#x60;%(entity)&#x60;&#x22;)  }  reset() {    each {|entity: Entity, pillar: Data|      Frame.end { Entity.destroy(entity) }    }  }  tick(delta: Num) {    each {|entity: Entity, pillar: Data|      var x_now = Transform.get_pos_x(entity) - pillar.speed * delta      Transform.set_pos_x(entity, x_now)      if(x_now < -256) {        Frame.end { Entity.destroy(entity) }      }    } //each  } //tick}"><div></div></button></div></figure></div> </div> <footer class="sl-flex astro-3yyafb3n"> <div class="meta sl-flex astro-3yyafb3n">   </div> <div class="pagination-links print:hidden astro-u2l5gyhi" dir="ltr"> <a href="/getting-started/draw-and-input/" rel="prev" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17 11H9.41l3.3-3.29a1.004 1.004 0 1 0-1.42-1.42l-5 5a1 1 0 0 0-.21.33 1 1 0 0 0 0 .76 1 1 0 0 0 .21.33l5 5a1.002 1.002 0 0 0 1.639-.325 1 1 0 0 0-.219-1.095L9.41 13H17a1 1 0 0 0 0-2Z"/></svg> <span class="astro-u2l5gyhi"> Previous <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">Drawing and input</span> </span> </a> <a href="/getting-started/luxe-editor/" rel="next" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17.92 11.62a1.001 1.001 0 0 0-.21-.33l-5-5a1.003 1.003 0 1 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1.002 1.002 0 0 0 .325 1.639 1 1 0 0 0 1.095-.219l5-5a1 1 0 0 0 .21-.33 1 1 0 0 0 0-.76Z"/></svg> <span class="astro-u2l5gyhi"> Next <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">The luxe editor</span> </span> </a> </div>   </footer>  </div> </div>   </main> </div> </div>  </div> </div>  </body></html>